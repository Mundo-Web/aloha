const __vite__fileDeps=["assets/Main-BZiqHNWT.js","assets/AboutHeader-CpM0iYLI.js","assets/index-B80Lgev0.js","assets/Treatment-BkiomS_d.js","assets/HairType-DuYlV-c2.js","assets/index-B1nVdsa0.js","assets/index-DO3Aws4m.js","assets/index-CqrOtH36.js","assets/HairThickness-DVzDXvkU.js","assets/Email-DLJQnew_.js","assets/sweetalert2.all-Dh0rZL5X.js","assets/UserFormulasRest-CUuZlsfm.js","assets/BasicRest-Dr9i-95X.js","assets/main-B2CtU6ez.js","assets/___vite-browser-external_commonjs-proxy-C9-083JZ.js","assets/ScalpType-BgZeougA.js","assets/HairGoals-bgIArxrK.js","assets/Fragrance-B9J_XAm4.js","assets/tippy-react.esm-CHhA99mn.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{j as r}from"./AboutHeader-CpM0iYLI.js";import{R as c,r as E}from"./index-B80Lgev0.js";import{c as S}from"./ReactAppend-CBRQCQGz.js";import{B as k}from"./Base-yCfVRhj1.js";import{C as A}from"./CreateReactScript-DH4VP3S3.js";import{m as T}from"./main-B2CtU6ez.js";import{P as C}from"./ProgressBar-BV2E1bH9.js";import"./index-DO3Aws4m.js";import"./Base-Ctxt8D6N.js";import"./index-B1nVdsa0.js";import"./index-CqrOtH36.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";/* empty css               *//* empty css              */const D="modulepreload",z=function(m){return"/build/"+m},R={},d=function(_,p,v){let g=Promise.resolve();if(p&&p.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),l=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));g=Promise.all(p.map(i=>{if(i=z(i),i in R)return;R[i]=!0;const h=i.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const t=document.createElement("link");if(t.rel=h?"stylesheet":D,h||(t.as="script",t.crossOrigin=""),t.href=i,l&&t.setAttribute("nonce",l),document.head.appendChild(t),h)return new Promise((s,o)=>{t.addEventListener("load",s),t.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${i}`)))})}))}return g.then(()=>_()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},V=c.lazy(()=>d(()=>import("./Main-BZiqHNWT.js"),__vite__mapDeps([0,1,2]))),B=c.lazy(()=>d(()=>import("./Treatment-BkiomS_d.js"),__vite__mapDeps([3,1,2]))),N=c.lazy(()=>d(()=>import("./HairType-DuYlV-c2.js"),__vite__mapDeps([4,1,2,5,6,7]))),$=c.lazy(()=>d(()=>import("./HairThickness-DVzDXvkU.js"),__vite__mapDeps([8,1,2,5,6,7]))),F=c.lazy(()=>d(()=>import("./Email-DLJQnew_.js"),__vite__mapDeps([9,1,2,10,11,12,13,14]))),H=c.lazy(()=>d(()=>import("./ScalpType-BgZeougA.js"),__vite__mapDeps([15,1,2,5,6,7]))),U=c.lazy(()=>d(()=>import("./HairGoals-bgIArxrK.js"),__vite__mapDeps([16,1,2]))),q=c.lazy(()=>d(()=>import("./Fragrance-B9J_XAm4.js"),__vite__mapDeps([17,1,2,18,6,11,12,13,14]))),K=({session:m,otherFormulasCount:_,hasTreatment:p,scalpType:v,hairType:g,hairThickness:n,hairGoals:l,fragrances:i,userFormulasCount:h=0,formula:f})=>{const t=T.Local.get("vua_test")??{has_started:!!f};p.find(e=>e.id==t.has_treatment)||(t.has_treatment=null),v.find(e=>e.id==t.scalp_type)||(t.scalp_type=null),g.find(e=>e.id==t.hair_type)||(t.hair_type=null),l.find(e=>{var x;return(x=t.hair_goals)==null?void 0:x.some(j=>j==e.id)})||(t.hair_goals=null),i.find(e=>e.id==t.fragrance)||(t.fragrance=null);const[s,o]=E.useState(t),[w,b]=E.useState(!f),y={has_started:r.jsx(V,{test:s,setTest:o,setFirstTime:b,userFormulasCount:h}),has_treatment:r.jsx(B,{test:s,setTest:o,values:p}),scalp_type:r.jsx(H,{test:s,setTest:o,values:v}),hair_type:r.jsx(N,{test:s,setTest:o,values:g}),hair_thickness:r.jsx($,{test:s,setTest:o,values:n}),hair_goals:r.jsx(U,{test:s,setTest:o,values:l}),fragrance:r.jsx(q,{test:s,setTest:o,values:i,formula:f}),email:r.jsx(F,{test:s,setTest:o,session:m})},a=Object.keys(y),u=()=>{if(w)return 0;for(let e=0;e<a.length;e++)if(s[a[e]]===null||typeof s[a[e]]>"u")return e;return a.length},L=()=>{const e=u();return e===0&&!s.has_started?y.has_started:e<a.length?y[a[e]]:location.href="/test/result"},I=()=>{const e=u();if(e>0){const x=a[e-1];o(j=>{const P={...j};return delete P[x],P})}};E.useEffect(()=>{T.Local.set("vua_test",s)},[s]);const O=u()/a.length*100;return r.jsxs(r.Fragment,{children:[u()>0&&u()!=a.length&&r.jsx("div",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pt-[5%]",children:r.jsx(C,{width:`${O}%`,isSecondary:!!f,formulaIndex:_+2})}),r.jsx(E.Suspense,{fallback:r.jsx("div",{className:"h-[50vh] flex items-center justify-center bg-white",children:"Cargando..."}),children:L()}),u()>0&&u()!=a.length&&r.jsx("section",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%]",children:r.jsx("button",{className:"h-10 w-10 bg-[#DBCEEB] text-white rounded-full",onClick:I,children:r.jsx("i",{className:"mdi mdi-arrow-left"})})})]})};A((m,_)=>{S(m).render(r.jsx(k,{..._,children:r.jsx(K,{..._})}))});
