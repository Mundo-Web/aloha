var T=Object.defineProperty;var R=(b,d,u)=>d in b?T(b,d,{enumerable:!0,configurable:!0,writable:!0,value:u}):b[d]=u;var F=(b,d,u)=>(R(b,typeof d!="symbol"?d+"":d,u),u);import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as y}from"./index-B80Lgev0.js";import{c as Q}from"./ReactAppend-CBRQCQGz.js";import{B as G}from"./Base-C8pp5Bpj.js";import{G as H,C as J}from"./CreateReactScript-B4L7iD9b.js";import{N as k}from"./Number2Currency-e57Tgsuk.js";import{m as j}from"./main-B2CtU6ez.js";import{A as O}from"./CallToAction-Y9yYs4wC.js";import{i as D}from"./tippy-react.esm-CHhA99mn.js";import{B as K}from"./Results-CGjdirJh.js";import{c as A}from"./createLucideIcon-Cx5eUsrb.js";import"./index-DO3Aws4m.js";import"./Base-TVC2AMtK.js";import"./index-B1nVdsa0.js";import"./index-CqrOtH36.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";/* empty css               *//* empty css              *//**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=A("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=A("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=A("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);class P{}F(P,"order",async(d,u)=>{try{const{status:h,result:m}=await j.Fetch("/api/culqi/order",{method:"POST",body:j.JSON.stringify({sale:d,details:u})});if(!h)throw new Error((m==null?void 0:m.message)||"Ocurrio un error inesperado");return j.Notify.add({icon:"/assets/img/icon.svg",title:"Correcto",body:m.message,type:"success"}),m}catch(h){return j.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:h.message,type:"danger"}),null}}),F(P,"token",async d=>{try{const{status:u,result:h}=await j.Fetch("/api/culqi/token",{method:"POST",body:j.JSON.stringify(d)});if(!u)throw new Error((h==null?void 0:h.message)||"Ocurrio un error inesperado");return j.Notify.add({icon:"/assets/img/icon.svg",title:"Correcto",body:h.message,type:"success"}),h}catch(u){return j.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:u.message,type:"danger"}),null}});class W extends K{constructor(){super(...arguments);F(this,"path","coupons");F(this,"isFirst",async u=>{try{const{status:h,result:m}=await j.Fetch(`/api/${this.path}/is-first`,{method:"POST",body:j.JSON.stringify({email:u})});if(!h)throw new Error((m==null?void 0:m.message)??"Ocurrio un error inesperado");return m.data}catch{return null}})}}const X=({goToNextPage:b,items:d=[],bundles:u=[]})=>{const h=j.Local.get("vua_cart")??[],[m,i]=y.useState(h.filter(a=>!!d.find(x=>a.id==x.id))??[]),p=m.reduce((a,x)=>a+x.price*x.quantity,0),g=(a,x)=>{const f=a.target.checked;i(f?w=>[...w,{...x,quantity:1}]:w=>w.filter(v=>v.id!=x.id))},s=m.reduce((a,x)=>a+x.quantity,0),o=u.filter(a=>{switch(a.comparator){case"<":return s<a.items_quantity;case">":return s>a.items_quantity;default:return s==a.items_quantity}}).sort((a,x)=>x.percentage-a.percentage),c=(o==null?void 0:o[0])??null,n=p*(1-((c==null?void 0:c.percentage)||0)),l=a=>{m.find(x=>x.id==a.id)?i(x=>x.map(f=>(f.id==a.id&&f.quantity++,f))):(document.getElementById(`item-${a.id}`).checked=!0,i(x=>[...x,{...a,quantity:1}]))},N=a=>{i(x=>x.map(f=>(f.id==a.id&&f.quantity--,f.quantity<=0?document.getElementById(`item-${a.id}`).checked=!1:f)).filter(Boolean))};return y.useEffect(()=>{j.Local.set("vua_cart",m)},[m]),y.useEffect(()=>{O.init()},[null]),e.jsxs("form",{className:"px-[3%] lg:px-[10%] py-[10%] md:py-[7.5%] lg:py-[5%] bg-[#F9F3EF] text-center text-[#404040]",children:[e.jsxs("div",{className:"max-w-2xl mx-auto ",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Â¡Selecciona tus productos personalizados!"}),e.jsxs("p",{className:"mb-8 text-sm font-extralight",children:[e.jsx("span",{children:"Para mejores resultados arma una rutina completa"}),e.jsx("img",{className:"w-4 inline-block ms-2",src:"/assets/img/emojis/stars.png",alt:"Para mejores resultados arma una rutina completa"})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:d.map((a,x)=>{const f=m.find(v=>v.id==a.id),w=(f==null?void 0:f.quantity)??0;return e.jsxs("div",{className:"flex flex-col w-[180px] whitespace-nowrap","data-aos":"fade-up",children:[e.jsx("input",{type:"checkbox",name:"",id:`item-${a.id}`,className:"peer hidden",onChange:v=>g(v,a),checked:!!f,required:!0}),e.jsxs("label",{htmlFor:`item-${a.id}`,className:"flex overflow-hidden flex-col tracking-normal leading-none text-center bg-white rounded-xl border peer-checked:border-[#808080] peer-checked:shadow-md text-[#404040] cursor-pointer mb-3 transition-all",children:[e.jsx("img",{loading:"lazy",src:`/api/items/media/${a.image}`,className:"object-cover object-center aspect-[3/4] w-full border-b",alt:"Shampoo product image",onError:v=>v.target.src="/assets/img/routine/conditioner.png"}),e.jsx("h2",{className:"self-center px-4 py-3",children:a.name})]}),e.jsxs("div",{className:"flex gap-5 justify-between items-center self-center py-1 text-sm bg-transparent rounded-lg border border-[#808080] w-[70%] px-4 font-bold",children:[e.jsx("button",{type:"button",className:"disabled:cursor-not-allowed",onClick:()=>N(a),disabled:w<=0,children:"-"}),e.jsx("span",{children:w}),e.jsx("button",{type:"button",className:"disabled:cursor-not-allowed",onClick:()=>l(a),children:"+"})]})]},x)})})}),e.jsxs("div",{className:"max-w-2xl mx-auto mt-5 sm:mt-8 lg:mt-10 px-[3%]",children:[e.jsx("p",{className:"text-sm",children:"Descubre cÃ³mo ahorrar aÃºn mÃ¡s al final ðŸ‘€"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center bg-[#EFBEC1] text-white rounded-3xl mt-4 py-4 px-[5%] font-extrabold shadow-lg",children:[e.jsxs("div",{className:"text-xl text-start",children:["Elegiste ",c?c.name:e.jsxs(e.Fragment,{children:[s," ",s==1?"producto":"productos"]}),c&&e.jsx("span",{className:"block text-xs font-light",children:c.description})]}),e.jsxs("div",{className:"flex flex-row text-white items-center gap-4",children:[p!=n&&e.jsxs("p",{className:"text-sm font-light line-through",children:["Antes: S/",k(p)]}),e.jsxs("h2",{className:"text-xl",children:["S/",k(n)]})]})]})]}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 mx-auto md:mx-[12.5%] mt-5 sm:mt-10",children:e.jsx("button",{onClick:b,className:"bg-[#C5B8D4] text-white text-sm px-8 py-3 rounded mt-4 disabled:cursor-not-allowed",disabled:s==0,children:"SIGUIENTE"})})]})},Z=({goToNextPage:b,items:d=[]})=>{const[u,h]=y.useState(j.Local.get("vua_cart")??[]);y.useEffect(()=>{h(i=>i.map(p=>{var l;const g=((l=d.find(N=>N.id==p.id))==null?void 0:l.colors)??[],s=p.colors??[],o=p.quantity,c=o-s.length,n=new Array(c>0?c:0).fill((g==null?void 0:g[0])??null);return s.length<o?p.colors=[...s,...n].filter(Boolean):p.colors=s.slice(0,o).filter(Boolean),p}))},[null]);const m=(i,p,g)=>{h(s=>s.map(o=>(o.id==i&&(o.colors[p]=g),o)))};return y.useEffect(()=>{j.Local.set("vua_cart",u)},[u]),y.useEffect(()=>{O.init()},[null]),e.jsxs("section",{className:"px-[3%] lg:px-[10%] py-[10%] md:py-[7.5%] lg:py-[5%] bg-[#F9F3EF] text-center text-[#404040]",children:[e.jsxs("div",{className:"max-w-2xl mx-auto ",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Â¡Ahora selecciona el color!"}),e.jsxs("p",{className:"mb-8 text-sm font-extralight",children:[e.jsx("span",{children:"Elije tus colores favoritos para tu rutina"}),e.jsx("img",{className:"w-4 inline-block ms-2",src:"/assets/img/emojis/stars.png",alt:"Elije tus colores favoritos para tu rutina"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 mt-5 sm:mt-8 lg:mt-10",children:u.map((i,p)=>{var s,o;const g=((s=d.find(c=>c.id==i.id))==null?void 0:s.colors)??[];return g.length==0?null:(o=i.colors)==null?void 0:o.map((c,n)=>e.jsx("div",{className:"overflow-hidden w-full bg-white rounded-2xl shadow-md","data-aos":"fade-down",children:e.jsxs("div",{className:"flex flex-row gap-2 items-center p-2",children:[e.jsx("div",{className:"",children:e.jsx("img",{className:"h-[120px] aspect-[3/4] object-cover object-center rounded-md",src:`/api/colors/media/${c==null?void 0:c.image}`,alt:i.name})}),e.jsx("div",{className:"",children:e.jsx("div",{className:"flex flex-wrap gap-3 items-end self-stretch my-auto ",children:e.jsxs("div",{className:"flex flex-col items-start self-stretch",children:[e.jsxs("h2",{className:"text-lg font-semibold tracking-normal leading-none text-neutral-700 mb-1",children:[i.name," ",n+1]}),e.jsx("p",{className:" text-sm font-light tracking-normal leading-none text-neutral-700 mb-4",children:"Selecciona tu color:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map((l,N)=>{const a=(c==null?void 0:c.id)==l.id;return e.jsx(D,{content:l.name,children:e.jsx("button",{className:`flex shrink-0 w-8 aspect-square rounded-full border ${a?"shadow-md border-[#000000]":""}`,style:{backgroundColor:l.hex||"#fff"},onClick:()=>m(i.id,n,l)})},N)})})]})})})]})},`existence-${p}-${n}`))}).filter(Boolean)}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 mx-auto md:mx-[12.5%] mt-5 sm:mt-10",children:e.jsx("button",{onClick:b,className:"bg-[#C5B8D4] text-white text-sm px-8 py-3 rounded mt-4",children:"SIGUIENTE"})})]})},ee=({goToNextPage:b,setSelectedPlan:d,bundles:u=[],planes:h=[]})=>{const m=j.Local.get("vua_cart")??[],i=m.reduce((n,l)=>n+l.price*l.quantity,0),p=m.reduce((n,l)=>n+l.quantity,0),g=u.filter(n=>{switch(n.comparator){case"<":return p<n.items_quantity;case">":return p>n.items_quantity;default:return p==n.items_quantity}}).sort((n,l)=>l.percentage-n.percentage),s=(g==null?void 0:g[0])??null,o=i*(1-((s==null?void 0:s.percentage)||0)),c=n=>{d(n),b()};return e.jsxs("section",{className:"px-[3%] lg:px-[10%] py-[10%] md:py-[7.5%] lg:py-[5%] bg-[#F9F3EF] text-center",children:[e.jsxs("div",{className:"max-w-2xl mx-auto ",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Â¡Elije la frecuencia de tu pedido!"}),e.jsx("p",{className:"mb-8 text-sm font-extralight",children:"Conoce de quÃ© manera puedes ahorrar en tu rutina"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 mt-5 sm:mt-8 lg:mt-10",children:[e.jsxs("div",{className:"transition-all cursor-pointer p-6 bg-white group hover:bg-[#EFBEC1] hover:text-white rounded-2xl grid grid-cols-2 items-center justify-between gap-4 shadow-md h-full",onClick:()=>c(null),children:[e.jsxs("div",{className:"text-start",children:[e.jsx("span",{className:"block",children:"Comprar por"}),e.jsx("span",{className:"block font-bold mb-2 -mt-1",children:"1 sola vez"})]}),e.jsx("div",{className:"flex flex-col gap-2 text-end",children:e.jsxs("span",{className:"ms-auto text-4xl text-[#C0AFD4] group-hover:text-white font-bold",children:["S/",k(o)]})})]}),h.sort((n,l)=>l.percentage-n.percentage).map((n,l)=>{const N=o-i*n.percentage;return e.jsxs("div",{className:"cursor-pointer p-6 bg-white transition-all rounded-2xl grid grid-cols-2 items-center justify-between gap-4 shadow-md h-full hover:bg-[#EFBEC1] hover:text-white peer-checked:bg-[#EFBEC1] peer-checked:text-white group",onClick:()=>c(n.id),children:[e.jsxs("div",{className:"text-start",children:[e.jsx("span",{className:"block",children:"SuscripciÃ³n"}),e.jsxs("span",{className:"block font-bold mb-2 -mt-1",children:["Cada ",n.name]}),e.jsx("div",{className:`
          border border-[#404040] text-xs px-2 py-1 rounded-full w-max 
          group-hover:border-white peer-checked:border-white
        `,children:"+ EnvÃ­o gratis Lima Met."})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-end",children:[e.jsxs("span",{className:`
          ms-auto text-nowrap text-xs px-2 py-1 rounded-full w-max
          text-white bg-[#C0AFD4]
          group-hover:text-[#EEA9D2] group-hover:bg-white
          peer-checked:text-[#EEA9D2] peer-checked:bg-white
        `,children:["-",n.percentage*100,"%OFF",e.jsx("img",{className:"w-3 inline-block ms-1",src:"/assets/img/emojis/fire.png",alt:"-{plan.percentage * 100}%OFF"})]}),e.jsxs("span",{className:"ms-auto text-4xl text-[#C0AFD4] font-bold group-checked:text-white group-hover:text-white",children:["S/",k(N)]})]})]},l)})]})]})},B=new W,te=({formula:b,publicKey:d,selectedPlan:u,bundles:h,planes:m,session:i})=>{const p=y.useRef(null);Culqi.publicKey=d,Culqi.options({paymentMethods:{tarjeta:!0,yape:!0,billetera:!0,bancaMovil:!0,agente:!0,cuotealo:!1},installments:!0,style:{logo:`${location.origin}/assets/img/icon-purple.svg`,bannerColor:"#A191B8"}});const g=j.Local.get("vua_cart"),[s,o]=y.useState({name:(i==null?void 0:i.name)||null,lastname:(i==null?void 0:i.lastname)||null,email:b.email,phone:(i==null?void 0:i.phone)||null,country:"PerÃº",department:null,province:null,district:null,zip_code:null,address:null,number:null,reference:null,comment:null}),[c,n]=y.useState(!1),[l,N]=y.useState(null),a=g.reduce((t,r)=>t+r.price*r.quantity,0),x=g.reduce((t,r)=>t+r.quantity,0),f=h.filter(t=>{switch(t.comparator){case"<":return x<t.items_quantity;case">":return x>t.items_quantity;default:return x==t.items_quantity}}).sort((t,r)=>r.percentage-t.percentage),w=(f==null?void 0:f[0])??null,v=a*((w==null?void 0:w.percentage)||0),S=m.find(t=>t.id==u),q=(a-v)*((S==null?void 0:S.percentage)||0),_=(a-v-q)*((l==null?void 0:l.amount)||0)/100,M=()=>{let t="Lima",r="Lima",C=null;return s.province=="Lima metropolitana"&&(r="Lima metropolitana",C=null),s.province=="Lima Alrededores"&&(r=s.district),s.province=="Provincias"&&(t=s.district,r=null),{...s,department:t,province:r,district:C}},$=async t=>{if(t.preventDefault(),c)return;n(!0);let r=null;if(a>6){const C=await P.order({...M(),order_number:Culqi.order_number,user_formula_id:b.id,renewal_id:u,coupon:(l==null?void 0:l.name)??null},g);C&&(r=C.data.id,Culqi.order_number=C.data.order_number)}n(!1),Culqi.settings({title:H.APP_NAME,currency:"PEN",amount:Math.ceil((a-v-q-_)*100),order:r}),Culqi.open()};window.culqi=async()=>{Culqi.token?await P.token({order:Culqi.order_number,token:Culqi.token})&&(location.href="/thanks"):Culqi.order&&z()};const z=()=>{setInterval(()=>{Culqi.isOpen||(location.href="/thanks")},500)},L=t=>{t.preventDefault();const r=(p.current.value||"").trim().toUpperCase();r&&B.save({coupon:r,amount:a,email:b.email}).then(C=>{N(C?C.data:null)})},I=t=>{t.key=="Enter"&&L(t)};return y.useEffect(()=>{B.isFirst(b.email).then(t=>{N(t||null)})},[null]),e.jsx(e.Fragment,{children:e.jsx("section",{className:"px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%] mt-[7.5%] md:mt-[5%] lg:mt-[2.5%] text-[#404040]",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex justify-center space-x-8 text-sm text-white",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"SSL Pago Seguro"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"24/7 AtenciÃ³n al cliente"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Pago online"})]})]}),e.jsx("form",{className:"w-full rounded-lg bg-white p-8 shadow-lg",onSubmit:$,disabled:c,children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-5 relative",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"InformaciÃ³n del cliente"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"email",children:["DirecciÃ³n de correo electrÃ³nico ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.email,placeholder:"DirecciÃ³n de correo electrÃ³nico",onChange:t=>o(r=>({...r,email:t.target.value})),required:!0,disabled:!0})]}),e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Detalles de facturaciÃ³n"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"firstName",children:["Nombre ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"firstName",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.name,onChange:t=>o(r=>({...r,name:t.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"lastName",children:["Apellidos ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"lastName",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.lastname,onChange:t=>o(r=>({...r,lastname:t.target.value})),required:!0})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"country",children:["PaÃ­s / RegiÃ³n ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"country",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.country,disabled:!0,required:!0})]}),e.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-5",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"province",children:["RegiÃ³n / Provincia ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"province",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.province,onChange:t=>o(r=>({...r,province:t.target.value})),required:!0,children:[e.jsx("option",{value:"",children:"Elige una opciÃ³n"}),e.jsx("option",{children:"Lima Metropolitana"}),e.jsx("option",{children:"Lima Alrededores"}),e.jsx("option",{children:"Otras Provincias"})]})]}),(s.province=="Lima Alrededores"||s.province=="Otras Provincias")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"district",children:s.province=="Lima Alrededores"?"Distrito":"Departamento"}),e.jsx("input",{type:"text",id:"district",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.district,onChange:t=>o(r=>({...r,district:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium  truncate text-ellipsis",htmlFor:"postalCode",title:"CÃ³digo postal",children:"CÃ³digo postal"}),e.jsx("input",{type:"text",id:"postalCode",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.zip_code,onChange:t=>o(r=>({...r,zip_code:t.target.value}))})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-5 lg:grid-cols-3",children:[e.jsxs("div",{className:"md:col-span-3 lg:col-span-2",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"address",children:["DirecciÃ³n de la calle ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"address",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.address,placeholder:"Nombre de la calle y nÃºmero de la calle",onChange:t=>o(r=>({...r,address:t.target.value})),required:!0})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"number",children:["NÃºmero ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"number",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.number,placeholder:"Nombre de la calle y nÃºmero de la calle",onChange:t=>o(r=>({...r,number:t.target.value})),required:!0})]})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"apartment",children:"Apartamento, habitaciÃ³n, piso, etc. (opcional)"}),e.jsx("input",{type:"text",id:"apartment",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.reference,onChange:t=>o(r=>({...r,reference:t.target.value}))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"phone",children:["TelÃ©fono/Celular ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:s.phone,onChange:t=>o(r=>({...r,phone:t.target.value})),required:!0})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"orderNotes",children:"Notas del pedido (opcional)"}),e.jsx("textarea",{id:"orderNotes",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",rows:3,placeholder:"Notas sobre tu pedido, por ejemplo, notas especiales para la entrega.",value:s.comment,onChange:t=>o(r=>({...r,comment:t.target.value})),style:{minHeight:81,fieldSizing:"content"}})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",children:"Pago"}),e.jsxs("div",{className:"rounded-md border border-gray-300",children:[e.jsxs("div",{className:"p-4 py-3 flex justify-between",children:[e.jsx("img",{className:"h-4",src:"/assets/img/checkout/culqi-logo.svg",alt:"Culqi"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:"h-4",src:"/assets/img/checkout/cards.svg",alt:"Cards"}),e.jsx("img",{className:"h-4",src:"/assets/img/checkout/pagoefectivo.svg",alt:"Pago efectivo"}),e.jsx("img",{className:"h-4",src:"/assets/img/checkout/yape.svg",alt:"Yape"})]})]}),e.jsxs("p",{className:"text-xs bg-[#f9f9f9] p-4 px-6 rounded-b",children:["Acepta pagos con ",e.jsx("b",{children:"tarjetas de dÃ©bito y crÃ©dito, Yape, Cuotealo BCP y PagoEfectivo"}),"(billeteras mÃ³viles, agentes y bodegas)."]})]})]}),e.jsx("div",{className:"mt-6 text-xs",children:e.jsxs("p",{className:"text-justify",children:["Sus datos personales se utilizarÃ¡n para procesar su pedido, respaldar su experiencia en este sitio web y para otros fines descritos en nuestra "," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:underline",children:"polÃ­tica de privacidad"}),"."]})})]}),e.jsx("div",{className:"lg:col-span-2 relative",children:e.jsxs("div",{className:"block sticky top-4",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Tu pedido"}),e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"mb-4 flex justify-between border-b pb-2 font-bold",children:[e.jsx("span",{className:"",children:"Producto"}),e.jsx("span",{className:"",children:"Subtotal"})]}),e.jsx("div",{className:"mb-2",children:g.map((t,r)=>{var C;return e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 aspect-[3/4] relative",children:e.jsx("img",{className:"h-10 aspect-[3/4] object-contain object-center rounded-md border",src:`/api/colors/media/${(C=t.colors[0])==null?void 0:C.image}`,alt:t.name,onError:E=>E.target.src=`/api/items/media/${t.image}`})}),e.jsxs("div",{children:[e.jsx("p",{children:t.name}),e.jsxs("small",{className:"text-xs text-gray-500",children:[e.jsxs("span",{className:"w-6 inline-block text-nowrap",children:["Ã— ",t.quantity]}),e.jsx("div",{className:"inline-flex flex-wrap gap-1",children:t.colors.map((E,ae)=>e.jsx("i",{className:"mdi mdi-circle",style:{color:(E==null?void 0:E.hex)??"#000",WebkitTextStroke:"1px #808080"}}))})]})]})]}),e.jsxs("span",{className:"",children:["S/ ",k(t.price*t.quantity)]})]},r)})}),e.jsxs("div",{className:"mb-2 mt-4 flex justify-between border-b pb-2 text-sm font-bold",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["S/ ",k(a)]})]}),w&&e.jsxs("div",{className:"mb-2 mt-2 flex justify-between items-center border-b pb-2 text-sm font-bold",children:[e.jsxs("span",{children:["Descuento x paquete",e.jsxs("small",{className:"block text-xs font-light",children:["Elegiste ",w.name," (-",Math.round(w.percentage*1e4)/100,"%)"]})]}),e.jsxs("span",{children:["S/ -",k(v)]})]}),S&&e.jsxs("div",{className:"mb-2 mt-2 flex justify-between items-center border-b pb-2 text-sm font-bold",children:[e.jsxs("span",{children:["SubscripciÃ³n",e.jsxs("small",{className:"block text-xs font-light",children:[S.name," (-",Math.round(S.percentage*1e4)/100,"%)"]})]}),e.jsxs("span",{children:["S/ -",k(q)]})]}),l&&e.jsxs("div",{className:"mb-2 mt-2 flex justify-between items-center border-b pb-2 text-sm font-bold",children:[e.jsxs("span",{children:["CupÃ³n aplicado ",e.jsx(D,{content:"Eliminar",children:e.jsx("i",{className:"mdi mdi-close text-red-500 cursor-pointer",onClick:()=>N(null)})}),e.jsxs("small",{className:"block text-xs font-light",children:[l.name," ",e.jsx(D,{content:l.description,children:e.jsx("i",{className:"mdi mdi-information-outline ms-1"})})," (-",Math.round(l.amount*100)/100,"%)"]})]}),e.jsxs("span",{children:["S/ -",k(_)]})]}),s.province&&e.jsxs("div",{className:"mb-4 flex justify-between text-sm border-b pb-2",children:[e.jsx("span",{className:"font-bold",children:"EnvÃ­o"}),e.jsx("span",{children:s.province=="Lima Metropolitana"?"Gratis":"Por Shalom - Pago en destino"})]}),e.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["S/ ",k(a-v-q-_)]})]})]}),!l&&e.jsxs("div",{className:"mt-6 flex",children:[e.jsx("input",{ref:p,type:"text",placeholder:"CÃ³digo de cupÃ³n",className:"w-full rounded-l-md border border-gray-300 p-2 px-4 text-sm outline-none uppercase focus:border-[#C5B8D4]",value:l==null?void 0:l.name,onKeyDown:I,disabled:c}),e.jsx("button",{className:"rounded-r-md bg-[#C5B8D4] px-4 py-2 text-sm text-white",type:"button",onClick:L,disabled:c,children:"Aplicar"})]}),e.jsxs("button",{type:"submit",className:"mt-6 w-full rounded-md bg-[#C5B8D4] py-3 text-white disabled:cursor-not-allowed",disabled:c,children:[e.jsx("i",{className:"mdi mdi-lock me-1"}),"Pagar Ahora",e.jsxs("small",{className:"ms-1",children:["(S/ ",k(a-v-q),")"]})]})]})})]})})]})})})},se=({user_formula:b,items:d,colors:u,publicKey:h,session:m,bundles:i,planes:p})=>{const[g,s]=y.useState(0),[o,c]=y.useState(null),n=()=>{g<l.length-1&&s(g+1)},l=[{component:e.jsx(X,{items:d,goToNextPage:n,bundles:i}),name:"Select Product"},{component:e.jsx(Z,{items:d,goToNextPage:n}),name:"Select Color"},{component:e.jsx(ee,{goToNextPage:n,setSelectedPlan:c,bundles:i,planes:p}),name:"Select Plan"},{component:e.jsx(te,{formula:b,publicKey:h,selectedPlan:o,goToNextPage:n,bundles:i,planes:p,session:m}),name:"Checkout"}];return l[g].component};J((b,d)=>{Q(b).render(e.jsx(G,{...d,children:e.jsx(se,{...d})}))});
