var I=Object.defineProperty;var T=(a,t,e)=>t in a?I(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var n=(a,t,e)=>(T(a,typeof t!="symbol"?t+"":t,e),e);import{V as U}from"./index.esm-Cu-mVv1q.js";import{m as O}from"./main-B2CtU6ez.js";/* empty css               *//* empty css              */const c=class c{};n(c,"WA_URL",null),n(c,"PUBLIC_RSA_KEY",null),n(c,"APP_PROTOCOL",null),n(c,"APP_URL",null),n(c,"WA_URL",null),n(c,"APP_DOMAIN",null),n(c,"APP_NAME",null),n(c,"APP_CORRELATIVE",null),n(c,"GMAPS_API_KEY",null),n(c,"set",(t,e)=>{c[t]=e}),n(c,"get",t=>c[t]);let A=c;const u=class u{};n(u,"name",null),n(u,"set",(t,e)=>{u[t]=e}),n(u,"get",t=>u[t]);let P=u;const M=a=>{U({resolve:t=>`/${t}.jsx`,setup:({el:t,props:e})=>{const s=e.initialPage.props;if(s!=null&&s.global)for(const i in s.global)A.set(i,s.global[i]);const R={...s==null?void 0:s.session};for(const i in R)P.set(`${i}`,R[i]);const $=(i,...f)=>{var d,C,g,E;const r=[];if(Array.isArray(i))for(const o of i)r.push(...f.map(m=>`${o}.${m}`));else r.push(...f.map(o=>`${i}.${o}`));if((C=(d=s==null?void 0:s.session)==null?void 0:d.permissions)!=null&&C.find(o=>r.includes(o.name)||o.name=="general.root"))return!0;const l=((g=s==null?void 0:s.session)==null?void 0:g.roles)??[];for(const o of l)if((E=o==null?void 0:o.permissions)!=null&&E.find(m=>r.includes(m.name)||m.name=="general.root"))return!0;return!1},h=i=>{var r;return!!(((r=s==null?void 0:s.session)==null?void 0:r.roles)??[]).find(l=>l.name==i)};O.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(O.Cookies.get("XSRF-TOKEN"))},a(t,{...s,can:$,hasRole:h})}})};export{M as C,A as G};
