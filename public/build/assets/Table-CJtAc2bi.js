import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as g}from"./index-B80Lgev0.js";import"./main-B2CtU6ez.js";import{r as b}from"./server.browser-D3N0_gce.js";const v=({gridRef:o,allowQueryBuilder:n=!0,rest:s,columns:l,toolBar:d,masterDetail:c,filterValue:a=null,pageSize:u=10,exportable:p,exportableName:x,customizeCell:m=()=>{},onRefresh:h=()=>{}})=>(g.useEffect(()=>{DevExpress.localization.locale(navigator.language),$(o.current).dxDataGrid({language:"es",dataSource:{load:async t=>{if(a&&typeof t.filter>"u")return{totalCount:0,data:[]};const r=await s.paginate({...t});return h(r),r}},onToolbarPreparing:t=>{const{items:r}=t.toolbarOptions;d(r)},remoteOperations:!0,columnResizingMode:"widget",allowColumnResizing:!0,allowColumnReordering:!0,columnAutoWidth:!0,scrollbars:"auto",filterPanel:{visible:n},searchPanel:{visible:!0},headerFilter:{visible:!0,search:{enabled:!0}},height:"calc(100vh - 185px)",filterValue:a,export:{enabled:p},onExporting:function(t){var r=new ExcelJS.Workbook,f=r.addWorksheet("Main sheet");DevExpress.excelExporter.exportDataGrid({worksheet:f,component:t.component,customizeCell:function(i){m(i),i.excelCell.alignment={horizontal:"left",vertical:"top",...i.excelCell.alignment}}}).then(function(){r.xlsx.writeBuffer().then(function(i){saveAs(new Blob([i],{type:"application/octet-stream"}),`${x}.xlsx`)})})},rowAlternationEnabled:!0,showBorders:!0,filterRow:{visible:!0,applyFilter:"auto"},filterBuilderPopup:{visible:!1,position:{of:window,at:"top",my:"top",offset:{y:10}}},paging:{pageSize:u},pager:{visible:!0,allowedPageSizes:[5,10,25,50,100],showPageSizeSelector:!0,showInfo:!0,showNavigationButtons:!0},allowFiltering:!0,scrolling:{mode:"standard",useNative:!0,preloadEnabled:!0,rowRenderingMode:"standard"},columnChooser:{title:"Mostrar/Ocultar columnas",enabled:!0,mode:"select",search:{enabled:!0}},columns:l,masterDetail:c,onContentReady:(...t)=>{tippy(".tippy-here",{arrow:!0,animation:"scale"})}}).dxDataGrid("instance"),tippy(".dx-button",{arrow:!0})},[a]),e.jsx("div",{ref:o})),N=({title:o,gridRef:n,rest:s,columns:l,toolBar:d,masterDetail:c,filterValue:a=null,allowQueryBuilder:u,isLoading:p,onRefresh:x,exportable:m,pageSize:h,hidden:t})=>{const r=b(e.jsx("div",{children:o})),f=$(r).text().trim().clean("-");return e.jsxs("div",{className:"row position-relative",hidden:t,children:[p&&e.jsx("div",{style:{top:0,left:0,right:0,bottom:0,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backgroundColor:"rgba(255,255,255,0.8)"},role:"status",children:e.jsx("i",{className:"mdi mdi-spin mdi-loading mdi-48px"})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[typeof o=="object"?e.jsx("div",{className:"card-header",children:o}):"",e.jsxs("div",{className:"card-body",children:[typeof o!="object"?e.jsxs("h4",{className:"header-title",children:[e.jsx("div",{id:"header-title-options",className:"float-end"}),e.jsx("span",{id:"header-title-prefix"})," Lista de ",o," ",e.jsx("span",{id:"header-title-suffix"})]}):"",e.jsx(v,{gridRef:n,rest:s,allowQueryBuilder:u,columns:l.filter(Boolean),toolBar:d,exportable:m,exportableName:f.toLowerCase(),masterDetail:c,filterValue:a,pageSize:h,onRefresh:x})]})]})})]})};export{v as D,N as T};
