var E=Object.defineProperty;var O=(c,s,o)=>s in c?E(c,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[s]=o;var e=(c,s,o)=>(O(c,typeof s!="symbol"?s+"":s,o),o);import{V as h}from"./index.esm-Bla6j_hB.js";import{m as C}from"./main-BjVPLcVK.js";/* empty css               *//* empty css              */const t=class t{};e(t,"WA_URL",null),e(t,"PUBLIC_RSA_KEY",null),e(t,"APP_PROTOCOL",null),e(t,"APP_URL",null),e(t,"APP_DOMAIN",null),e(t,"APP_NAME",null),e(t,"APP_CORRELATIVE",null),e(t,"GMAPS_API_KEY",null),e(t,"set",(s,o)=>{t[s]=o}),e(t,"get",s=>t[s]);let f=t;const U=c=>{h({resolve:s=>`/${s}.jsx`,setup:({el:s,props:o})=>{const n=o.initialPage.props;if(n!=null&&n.global)for(const a in n.global)f.set(a,n.global[a]);const p=(a,...u)=>{var P,A,R,d;const r=[];if(Array.isArray(a))for(const i of a)r.push(...u.map(m=>`${i}.${m}`));else r.push(...u.map(i=>`${a}.${i}`));if((A=(P=n==null?void 0:n.session)==null?void 0:P.permissions)!=null&&A.find(i=>r.includes(i.name)||i.name=="general.root"))return!0;const l=((R=n==null?void 0:n.session)==null?void 0:R.roles)??[];for(const i of l)if((d=i==null?void 0:i.permissions)!=null&&d.find(m=>r.includes(m.name)||m.name=="general.root"))return!0;return!1},g=a=>{var r;return!!(((r=n==null?void 0:n.session)==null?void 0:r.roles)??[]).find(l=>l.name==a)};C.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(C.Cookies.get("XSRF-TOKEN"))},c(s,{...n,can:p,hasRole:g})}})};export{U as C,f as G};
