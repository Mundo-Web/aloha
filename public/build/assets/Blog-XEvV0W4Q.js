import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as o}from"./index-B80Lgev0.js";import{G as p,C as u}from"./CreateReactScript-DH4VP3S3.js";import{c as h}from"./ReactAppend-CBRQCQGz.js";import{B as g}from"./Base-CoCRg48n.js";import{S as f}from"./sweetalert2.all-Dh0rZL5X.js";import{S as j}from"./SubscriptionsRest-CWHeJpz7.js";import{H as b}from"./Base-ku_qAI12.js";import{P as N}from"./PostsRest-BayhOHha.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./main-B2CtU6ez.js";/* empty css               *//* empty css              */import"./index-DO3Aws4m.js";import"./tippy-react.esm-CHhA99mn.js";import"./Logout-CPQZ59pt.js";import"./BasicRest-Dr9i-95X.js";import"./index-B1nVdsa0.js";import"./index-CqrOtH36.js";const y="/build/header2.png",w=new j,v=({categories:s})=>{const t=o.useRef(),[l,a]=o.useState(),n=async i=>{i.preventDefault(),a(!0);const c={email:t.current.value},r=await w.save(c);a(!1),r&&(f.fire({title:"¡Éxito!",text:`Te has suscrito correctamente al blog de ${p.APP_NAME}.`,icon:"success",confirmButtonText:"Ok"}),t.current.value=null)};return e.jsxs("section",{className:"grid md:grid-cols-2 items-center justify-between mt-16 bg-[#F5F7FA]",children:[e.jsx("img",{src:y,alt:"",className:"w-full h-full aspect-video md:aspect-[16/12] lg:aspect-video object-cover object-center"}),e.jsxs("form",{className:"p-[5%] w-full",onSubmit:n,children:[e.jsxs("div",{className:"w-full text-2xl lg:text-4xl font-medium text-pink-600",children:[e.jsx("span",{className:"text-slate-700",children:"Mantente siempre"})," ",e.jsx("span",{className:"font-bold text-pink-600",children:"Informado"})," ",e.jsx("span",{className:"text-slate-700",children:"con nuestra newsletter"})]}),e.jsx("div",{className:"mt-10 w-full max-md:max-w-full",children:e.jsx("div",{className:"w-full max-md:max-w-full",children:e.jsxs("div",{className:"w-full relative h-max",children:[e.jsx("input",{ref:t,className:"w-full py-2 px-4 text-slate-900 border-b-2 outline-none bg-transparent",placeholder:"Correo electrónico",disabled:l}),e.jsxs("button",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-pink-500",disabled:l,children:[e.jsx("span",{children:"Enviar"}),e.jsx("i",{className:"mdi mdi-arrow-top-right ms-1"})]})]})})}),e.jsx("div",{className:"mt-10 text-base leading-6 text-slate-900 max-md:max-w-full",children:"Suscríbete y sé el primero en enterarte de nuestras últimas publicaciones, consejos y novedades directamente en tu bandeja de entrada"})]})]})},k=({categories:s,filter:t,setFilter:l})=>e.jsx("section",{className:"p-[5%]",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 md:gap-8 items-center",children:[e.jsx("div",{className:"col-span-1 md:col-span-2 lg:col-span-4 text-center lg:text-left",children:e.jsxs("h2",{className:"text-3xl md:text-4xl tracking-tighter",children:[e.jsx("span",{className:"text-slate-700",children:"Todas las "}),e.jsx("span",{className:"font-bold text-pink-600",children:"Publicaciones"}),e.jsx("br",{}),e.jsx("span",{className:"text-slate-700",children:"de nuestra newsletter"})]})}),e.jsxs("button",{className:"col-span-1 md:col-span-1 lg:col-span-2 px-6 py-4 text-base uppercase rounded-3xl bg-slate-100 text-slate-900 flex items-center justify-center transition-all",onClick:()=>l(a=>({...a,sortOrder:a.sortOrder=="desc"?"asc":"desc"})),children:["Ordenar por Mes",e.jsx("i",{className:`ml-2 mdi ${t.sortOrder=="asc"?"mdi-arrow-down":"mdi-arrow-up"}`})]}),e.jsxs("label",{htmlFor:"txt-search",className:"col-span-1 md:col-span-1 lg:col-span-2 px-6 py-4 flex items-center rounded-3xl bg-slate-100",children:[e.jsx("i",{className:"fas fa-search text-slate-500 mr-2"}),e.jsx("input",{id:"txt-search",type:"text",placeholder:"Buscar publicación",className:"w-full bg-transparent border-none outline-none text-slate-800",onChange:a=>l(n=>({...n,search:a.target.value}))})]}),e.jsx("div",{className:"col-span-1 md:col-span-2 lg:col-span-4 flex flex-wrap gap-3 justify-center lg:justify-start",children:s.map((a,n)=>e.jsx("button",{className:`transition-all px-6 py-4 rounded-3xl ${a.id==t.category?"bg-blue-800 text-slate-100":"bg-slate-100 text-slate-900"} uppercase`,onClick:()=>l(i=>({...i,category:a.id==t.category?null:a.id})),children:a.name},n))})]})}),S=({current:s,setCurrent:t,pages:l})=>{const a=new Array(l||1);a.fill(null);const n=()=>{const c=s--;t(c<1?1:c)},i=()=>{const c=s--;t(c>l?l:c)};return o.useEffect(()=>{s>l&&t(l)},[l,s]),e.jsx(e.Fragment,{children:e.jsx("nav",{"aria-label":"Page navigation example w-full",children:e.jsxs("ul",{className:"flex flex-wrap items-center gap-2 -space-x-px text-base justify-center",children:[e.jsx("li",{children:e.jsxs("button",{className:"cursor-pointer flex items-center justify-center px-4 h-10 w-10 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700",onClick:n,type:"button",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx("i",{className:"mdi mdi-arrow-left"})]})}),a.map((c,r)=>r+1==s-4||r+1==s+4?e.jsx("li",{children:e.jsx("button",{"aria-current":"page",className:"z-10 flex items-center justify-center px-4 h-10 w-10 leading-tight bg-transparent text-gray-500 hover:text-gray-700 cursor-default",type:"button",children:"···"})},`item-${r}`):e.jsx("li",{className:r+1>s-4&&r+1<s+4?"block":"hidden",children:e.jsx("button",{"aria-current":"page",className:`cursor-pointer z-10 flex items-center justify-center px-4 h-10 w-10 leading-tight  ${s==r+1?"bg-[#2E405E] text-white cursor-default":"bg-gray-100 text-gray-500 hover:text-gray-700"}`,onClick:()=>t(r+1),type:"button",children:r+1})},`item-${r}`)),e.jsx("li",{children:e.jsxs("button",{className:"cursor-pointer flex items-center justify-center px-4 h-10 w-10 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700",onClick:i,type:"button",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx("i",{className:"mdi mdi-arrow-right"})]})})]})})})},P=({id:s,name:t,summary:l,category:a,image:n,post_date:i,firstImage:c=!1})=>e.jsxs("div",{className:"flex flex-col self-stretch my-auto w-full mt-6",children:[e.jsxs("div",{className:`flex flex-col gap-4 ${c&&"flex-col-reverse"}`,children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-semibold  text-[#2B384F] line-clamp-2 text-justify h-16",children:e.jsx(b,{html:(t||"Sin titulo").replace(/\*(.*?)\*/g,'<span class="font-bold text-pink-500">$1</span>')})}),e.jsx("p",{className:"mt-3 sm:mt-4 md:mt-5 text-sm sm:text-base text-[#2E405E] line-clamp-4 text-justify h-24",children:l||"Sin descripción"})]}),e.jsx("div",{className:"flex flex-col w-full",children:e.jsx("img",{src:`/api/posts/media/${n}`,alt:t,className:"w-full object-cover h-40 sm:h-44 md:h-48 rounded-md"})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 sm:mt-5 md:mt-6 w-full gap-4",children:[e.jsxs("a",{href:`/blog/${s}`,className:"flex gap-2 items-center text-sm sm:text-base font-semibold leading-snug text-[#2B384F]",children:[e.jsx("span",{children:(a==null?void 0:a.name)||"Sin categoría"}),e.jsx("i",{className:"mdi mdi-arrow-top-right"})]}),e.jsx("span",{className:"text-xs sm:text-sm text-end font-medium leading-snug text-[#FF27B9]",children:moment(i).format("ll")})]})]}),C=(s=[],t)=>{const l=[];return s.forEach((a,n)=>{n==0?l.push(a):l.push(t,a)}),l},E=new N,F=({filter:s})=>{const[t,l]=o.useState([]),[a,n]=o.useState(1),[i,c]=o.useState(1);return o.useEffect(()=>{const r=[["name","contains",s.search],["summary","contains",s.search]];s.category&&r.push(["category.id","=",s.category]),E.paginate({filter:C(r,"and"),requireTotalCount:!0,skip:12*(i-1),sort:[{selector:"post_date",desc:s.sortOrder=="desc"}],take:12}).then(({status:m,data:x,totalCount:d})=>{m==200&&(n(Math.ceil(d/12)),l(x))})},[s,i]),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"p-[5%] pt-0 grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:t.map((r,m)=>e.jsx(P,{...r,firstImage:!0},m))}),e.jsx("div",{className:"p-[5%]",children:e.jsx(S,{pages:a,current:i,setCurrent:c})})]})};function R({categories:s}){const[t,l]=o.useState({category:null,search:null,sortOrder:"asc"});return e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsx(k,{categories:s,filter:t,setFilter:l}),e.jsx(F,{filter:t})]})}u((s,t)=>{h(s).render(e.jsx(g,{...t,children:e.jsx(R,{...t})}))});
