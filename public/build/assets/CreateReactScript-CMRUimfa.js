var h=Object.defineProperty;var p=(c,s,o)=>s in c?h(c,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[s]=o;var a=(c,s,o)=>(p(c,typeof s!="symbol"?s+"":s,o),o);import{V as L}from"./MenuItem-YvjQIalw.js";import{m as C}from"./SelectAPIFormGroup-D3e_Xn4g.js";const t=class t{};a(t,"WA_URL",null),a(t,"PUBLIC_RSA_KEY",null),a(t,"APP_PROTOCOL",null),a(t,"APP_URL",null),a(t,"APP_DOMAIN",null),a(t,"APP_CORRELATIVE",null),a(t,"set",(s,o)=>{t[s]=o}),a(t,"get",s=>t[s]);let f=t;const I=c=>{L({resolve:s=>`/${s}.jsx`,setup:({el:s,props:o})=>{const n=o.initialPage.props;if(n!=null&&n.global)for(const i in n.global)f.set(i,n.global[i]);const g=(i,...m)=>{var P,A,R,d;const r=[];if(Array.isArray(i))for(const e of i)r.push(...m.map(l=>`${e}.${l}`));else r.push(...m.map(e=>`${i}.${e}`));if((A=(P=n==null?void 0:n.session)==null?void 0:P.permissions)!=null&&A.find(e=>r.includes(e.name)||e.name=="general.root"))return!0;const u=((R=n==null?void 0:n.session)==null?void 0:R.roles)??[];for(const e of u)if((d=e==null?void 0:e.permissions)!=null&&d.find(l=>r.includes(l.name)||l.name=="general.root"))return!0;return!1},O=i=>{var r;return!!(((r=n==null?void 0:n.session)==null?void 0:r.roles)??[]).find(u=>u.name==i)};C.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(C.Cookies.get("XSRF-TOKEN"))},c(s,{...n,can:g,hasRole:O})}})};export{I as C,f as G};
