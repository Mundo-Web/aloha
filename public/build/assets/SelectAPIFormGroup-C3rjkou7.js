import{j as o}from"./AboutHeader-QvZ8i92b.js";import{r as i}from"./index-uubelm5h.js";import{m as l}from"./main-_LuzYDr5.js";const b=({col:u,label:p,eRef:s,required:c=!1,dropdownParent:m,searchAPI:f,searchBy:e,multiple:j=!1,filter:n=null,onChange:x=()=>{},templateResult:d,templateSelection:g})=>(s||(s=i.useRef()),i.useEffect(()=>{$(s.current).select2({dropdownParent:m,minimumInputLength:0,ajax:{url:f,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(l.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:t,page:r}){return l.JSON.stringify({sort:[{selector:e,desc:!1}],skip:((r??1)-1)*10,take:10,filter:n?[[e,"contains",t||""],"and",n]:[e,"contains",t||""]})},processResults:function(t,{page:r}){return{results:((t==null?void 0:t.data)??[]).map(a=>{const N=l.JSON.flatten(a);return{id:a.id,text:N[e],data:a}}),pagination:{more:(r??1)*10<t.totalCount}}}},templateResult:d,templateSelection:g})},[m,n]),i.useEffect(()=>{$(s.current).on("change",x)},[n]),o.jsxs("div",{className:`form-group ${u} mb-2`,children:[o.jsxs("label",{htmlFor:"",className:"mb-1",children:[p," ",c&&o.jsx("b",{className:"text-danger",children:"*"})]}),o.jsx("select",{ref:s,required:c,className:"form-control",style:{width:"100%"},multiple:j})]}));export{b as S};
