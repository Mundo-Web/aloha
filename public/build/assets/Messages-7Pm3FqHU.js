var m=Object.defineProperty;var p=(a,s,i)=>s in a?m(a,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[s]=i;var l=(a,s,i)=>(p(a,typeof s!="symbol"?s+"":s,i),i);import{j as r}from"./StatisticCard-Bdo2C3ON.js";import{r as f}from"./index-DFv2mRv-.js";import{c as u}from"./ReactAppend-z4_qtB7b.js";import{B as g}from"./Base-B7HrBCN4.js";import{C as x}from"./CreateReactScript-yWJ4gJYl.js";import{T as b}from"./Table-CiqtxGdE.js";import{D as c}from"./DxButton-CsjWvhyj.js";import{B as h}from"./Content-DtiuTMAn.js";import{R as n}from"./ReactAppend-M1J8-UWR.js";import{r as j}from"./DxBox-DW2A4T63.js";import"./tippy-react.esm-3ehftxB_.js";/* empty css              */import"./main-BBbUrZUL.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./index.esm-B502ZfUP.js";/* empty css               */class C extends h{constructor(){super(...arguments);l(this,"path","admin/messages")}}const o=new C,R=()=>{const a=f.useRef(),s=async({id:e,status:t})=>{await o.status({id:e,status:t})&&$(a.current).dxDataGrid("instance").refresh()},i=async e=>{const{isConfirmed:t}=await Swal.fire({title:"Eliminar subscripcion",text:"Â¿Estas seguro de eliminar esta subscripcion?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!t||!await o.delete(e)||$(a.current).dxDataGrid("instance").refresh()};return r.jsx(r.Fragment,{children:r.jsx(b,{gridRef:a,title:"Mensajes",rest:o,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(a.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"name",caption:"Nombre",cellTemplate:(e,{data:t})=>{e.seen?e.text(t.name):e.html(j(r.jsx("b",{children:t.name})))}},{dataField:"phone",caption:"Telefono"},{dataField:"email",caption:"Correo"},{dataField:"created_at",caption:"Fecha",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",sortOrder:"desc"},{dataField:"status",caption:"Estado",dataType:"boolean",cellTemplate:(e,{data:t})=>{switch(t.status){case 1:n(e,r.jsx("span",{className:"badge bg-success rounded-pill",children:"Activo"}));break;case 0:n(e,r.jsx("span",{className:"badge bg-danger rounded-pill",children:"Inactivo"}));break;default:n(e,r.jsx("span",{className:"badge bg-dark rounded-pill",children:"Eliminado"}));break}}},{caption:"Acciones",cellTemplate:(e,{data:t})=>{e.append(c({className:"btn btn-xs btn-light",title:t.status===null?"Restaurar":"Cambiar estado",icon:t.status===1?"fa fa-toggle-on text-success":t.status===0?"fa fa-toggle-off text-danger":"fas fa-trash-restore",onClick:()=>s(t)})),e.append(c({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>i(t.id)}))},allowFiltering:!1,allowExporting:!1}]})})};x((a,s)=>{u(a).render(r.jsx(g,{...s,title:"Mensajes",children:r.jsx(R,{...s})}))});
