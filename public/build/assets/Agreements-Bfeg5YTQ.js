import{j as a}from"./AboutHeader-Bdo2C3ON.js";import{r as n}from"./index-DFv2mRv-.js";import{c as u}from"./ReactAppend-CwiwA4iz.js";import{B as f}from"./Base-B44vhXWW.js";import{C as b}from"./CreateReactScript-yWJ4gJYl.js";import{T as x}from"./Table-B2erVxH-.js";import{R as i}from"./ReactAppend-CaRiPI_F.js";import{D as c}from"./DxButton-DV0H-ZcL.js";import{M as g,A as h}from"./Modal-BSOKX5Xn.js";import"./index-DgyC5pTR.js";import"./tippy-react.esm-BVvHiWwH.js";/* empty css              */import"./main-BBbUrZUL.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./index.esm-B502ZfUP.js";/* empty css               */import"./InputFormGroup-DbvUCzmO.js";import"./Modal-D7iJK3me.js";import"./sweetalert2.all-DCeKQPlA.js";import"./Content-Cysyxekg.js";const l=new h,C=()=>{const r=n.useRef(),[o,d]=n.useState(1),[p,s]=n.useState(null),m=async e=>{const{isConfirmed:t}=await Swal.fire({title:"Eliminar registro",text:"Â¿Estas seguro de eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!t||!await l.delete(e)||$(r.current).dxDataGrid("instance").refresh()};return a.jsxs(a.Fragment,{children:[a.jsx(x,{gridRef:r,title:"Acuerdos",rest:l,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(r.current).dxDataGrid("instance").refresh()}}),e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nuevo registro",hint:"Nuevo registro",onClick:()=>onModalOpen()}})},onRefresh:({summary:e})=>{e!=null&&e.contract_number&&d(e.contract_number)},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"coachee.name",caption:"Coachee",dataType:"string",cellTemplate:(e,{data:t})=>{e.text(`${t.coachee.name} ${t.coachee.lastname}`)}},{dataField:"contract_number",caption:"Acuerdo",dataType:"number",cellTemplate:(e,{data:t})=>{e.text("C"+String(t.contract_number).padStart(3,"0"))}},{dataField:"process_topic",caption:"Tema"},{dataField:"created_at",caption:"Fecha",cellTemplate:(e,{data:t})=>{e.text(moment(t.created_at).format("LL"))}},{dataField:"status",caption:"Estado",dataType:"boolean",cellTemplate:(e,{data:t})=>{switch(t.status){case 1:i(e,a.jsx("span",{className:"badge bg-success rounded-pill",children:"Aprobado"}));break;case 0:i(e,a.jsx("div",{children:a.jsx("span",{className:"badge bg-danger rounded-pill",children:"Observado"})}));break;default:i(e,a.jsx("span",{className:"badge bg-dark rounded-pill",children:"Pendiente"}));break}}},{caption:"Acciones",cellTemplate:(e,{data:t})=>{e.append(c({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>s(t)})),e.append(c({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>m(t.id)}))},allowFiltering:!1,allowExporting:!1}]}),a.jsx(g,{dataLoaded:p,setDataLoaded:s,onSave:()=>$(r.current).dxDataGrid("instance").refresh()})]})};b((r,o)=>{u(r).render(a.jsx(f,{...o,title:"Acuerdos",children:a.jsx(C,{...o})}))});
