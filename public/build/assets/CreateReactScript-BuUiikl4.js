var E=Object.defineProperty;var I=(c,t,i)=>t in c?E(c,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[t]=i;var e=(c,t,i)=>(I(c,typeof t!="symbol"?t+"":t,i),i);import{V as L}from"./index.esm-Cu-mVv1q.js";import{m as p}from"./main-B2CtU6ez.js";/* empty css               *//* empty css              */const n=class n{};e(n,"WA_URL",null),e(n,"PUBLIC_RSA_KEY",null),e(n,"APP_PROTOCOL",null),e(n,"APP_URL",null),e(n,"WA_URL",null),e(n,"APP_DOMAIN",null),e(n,"APP_NAME",null),e(n,"APP_CORRELATIVE",null),e(n,"GMAPS_API_KEY",null),e(n,"set",(t,i)=>{n[t]=i}),e(n,"get",t=>n[t]);let A=n;const y=c=>{L({resolve:t=>`/${t}.jsx`,setup:({el:t,props:i})=>{const s=i.initialPage.props;if(s!=null&&s.global)for(const o in s.global)A.set(o,s.global[o]);const g=(o,...u)=>{var f,P,d,R;const r=[];if(Array.isArray(o))for(const a of o)r.push(...u.map(m=>`${a}.${m}`));else r.push(...u.map(a=>`${o}.${a}`));if((P=(f=s==null?void 0:s.session)==null?void 0:f.permissions)!=null&&P.find(a=>r.includes(a.name)||a.name=="general.root"))return!0;const l=((d=s==null?void 0:s.session)==null?void 0:d.roles)??[];for(const a of l)if((R=a==null?void 0:a.permissions)!=null&&R.find(m=>r.includes(m.name)||m.name=="general.root"))return!0;return!1},C=o=>{var r;return!!(((r=s==null?void 0:s.session)==null?void 0:r.roles)??[]).find(l=>l.name==o)};p.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(p.Cookies.get("XSRF-TOKEN"))},c(t,{...s,can:g,hasRole:C}),document.getElementById("app").removeAttribute("data-page")}})};export{y as C,A as G};
