import{V as $}from"./MenuItem-COCTGmIB.js";import{m as p}from"./NavBar-BThilt_4.js";const y=l=>{$({resolve:t=>`/${t}.jsx`,setup:({el:t,props:u})=>{const s=u.initialPage.props,d=(r,...a)=>{var i,c,m,f;const n=[];if(Array.isArray(r))for(const e of r)n.push(...a.map(o=>`${e}.${o}`));else n.push(...a.map(e=>`${r}.${e}`));if((c=(i=s==null?void 0:s.session)==null?void 0:i.permissions)!=null&&c.find(e=>n.includes(e.name)||e.name=="general.root"))return!0;const C=((m=s==null?void 0:s.session)==null?void 0:m.roles)??[];for(const e of C)if((f=e==null?void 0:e.permissions)!=null&&f.find(o=>n.includes(o.name)||o.name=="general.root"))return!0;return!1};p.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(p.Cookies.get("XSRF-TOKEN"))},l(t,{...s,can:d})}})};export{y as C};
