var ie=Object.defineProperty;var ce=(m,r,l)=>r in m?ie(m,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):m[r]=l;var E=(m,r,l)=>(ce(m,typeof r!="symbol"?r+"":r,l),l);import{j as e}from"./AboutHeader-CpM0iYLI.js";import{B as le}from"./Base-DUtpZS4_.js";import{i as q}from"./tippy-react.esm-CHhA99mn.js";import{r as g}from"./index-B80Lgev0.js";import{c as ae}from"./ReactAppend-CBRQCQGz.js";import{S as X}from"./sweetalert2.all-Dh0rZL5X.js";import{m as L}from"./main-B2CtU6ez.js";import{B as ne}from"./BasicRest-Dr9i-95X.js";import{M as ee}from"./Modal-B4tqXYU4.js";import{T as oe}from"./Table-CJtAc2bi.js";import{D as te}from"./DxButton-CsjWvhyj.js";import{C as me,G as A}from"./CreateReactScript-DH4VP3S3.js";import{N as b}from"./Number2Currency-e57Tgsuk.js";import{R as P}from"./ReactAppend-C-tNgxIf.js";import{p as S}from"./places-DAXM8Qkz.js";/* empty css              */import"./Logout-CPQZ59pt.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";import"./WhatsAppModal-CjZ0YwJN.js";import"./index-DO3Aws4m.js";import"./server.browser-D3N0_gce.js";/* empty css               */class de extends ne{constructor(){super(...arguments);E(this,"path","admin/sale-statuses");E(this,"bySale",async l=>{try{const{status:d,result:p}=await L.Fetch(`/api/${this.path}/by-sale/${l}`);if(!d)throw new Error((p==null?void 0:p.message)||"Ocurrio un error inesperado");return p.data}catch(d){return L.Notify.add({icon:"/assets/img/favicon.png",title:"Error",body:d.message,type:"danger"}),null}})}}class he extends ne{constructor(){super(...arguments);E(this,"path","admin/sales")}}const se=({name:m,formula:r,details:l})=>{var p,a,h,j,y,T,F,N,R,t,w,_;const d=l==null?void 0:l.filter(i=>!i.user_formula_id||i.user_formula_id==r.id);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("b",{children:"ðŸ§ Tratamiento"}),":"," ",(p=r==null?void 0:r.has_treatment)==null?void 0:p.description]}),e.jsxs("div",{children:[e.jsx("b",{children:"ðŸ‘€ Cuero cabelludo"}),": "," ",(a=r==null?void 0:r.scalp_type)==null?void 0:a.description]}),e.jsxs("div",{children:[e.jsx("b",{children:"âœ… Tipo de cabello"}),":"," ",(h=r==null?void 0:r.hair_type)==null?void 0:h.description]}),(r==null?void 0:r.hair_thickness)&&e.jsxs("div",{children:[e.jsx("b",{children:"ðŸ’ª Grosor del cabello"}),":"," ",(j=r==null?void 0:r.hair_thickness)==null?void 0:j.description]}),e.jsxs("div",{children:[e.jsx("b",{children:"ðŸ’¡ Objetivos"}),":"," ",e.jsx("ul",{className:"mb-0",children:(y=r==null?void 0:r.hair_goals_list)==null?void 0:y.map(i=>e.jsx("li",{children:i.description},i.id))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"ðŸ«™ Fragancia"}),":"," ",(T=r==null?void 0:r.fragrance)==null?void 0:T.name]}),e.jsxs("div",{children:[e.jsx("b",{children:"ðŸŽ¨ Colores:"}),e.jsx("ul",{children:d==null?void 0:d.map((i,C)=>{var f,v;return e.jsxs("li",{children:[i.name,((f=i==null?void 0:i.colors)==null?void 0:f.length)>0&&e.jsxs(e.Fragment,{children:[": ",(v=i==null?void 0:i.colors)==null?void 0:v.map(D=>D.name).join(", ")]})]},C)})})]}),e.jsxs("button",{className:"btn btn-xs btn-dark",type:"button",copy:`*Formula ${m}*

ðŸ§ Tratamiento: ${(F=r==null?void 0:r.has_treatment)==null?void 0:F.description}
ðŸ‘€ Cuero cabelludo: ${(N=r==null?void 0:r.scalp_type)==null?void 0:N.description}
âœ… Tipo de cabello: ${(R=r==null?void 0:r.hair_type)==null?void 0:R.description}
${r!=null&&r.hair_thickness?`ðŸ’ª Grosor del cabello: ${(t=r==null?void 0:r.hair_thickness)==null?void 0:t.description}
`:""}ðŸ’¡ Objetivos:
${(w=r==null?void 0:r.hair_goals_list)==null?void 0:w.map(i=>`- ${i.description}`).join(`
`)}
ðŸ«™ Fragancia: ${(_=r==null?void 0:r.fragrance)==null?void 0:_.name}
ðŸŽ¨ Colores:
${d==null?void 0:d.map(i=>{var C,f;return`- ${i.name}${((C=i==null?void 0:i.colors)==null?void 0:C.length)>0?`: ${(f=i==null?void 0:i.colors)==null?void 0:f.map(v=>v.name).join(", ")}`:""}`}).join(`
`)}`,children:[e.jsx("i",{className:"mdi mdi-content-copy me-1"}),"Copiar"]})]})},k=new he,xe=new de,pe=({statuses:m,items:r})=>{var I,z,O,W,G,M,V,Y,H,U,Z,J,K,Q;const l=g.useRef(),d=g.useRef(),p=g.useRef(),[a,h]=g.useState({name:"",lastname:"",email:"",phone:"",country:"PerÃº",department:"",province:"",district:"",zip_code:"",address:"",number:"",reference:"",comment:"",billing_type:"boleta",billing_number:"",items:[]}),[j,y]=g.useState([{item_id:"",color_id:"",quantity:1,price:0}]),T=()=>{y([...j,{item_id:"",color_id:"",quantity:1,price:0}])},F=s=>{y(j.filter((n,o)=>o!==s))},N=(s,n,o)=>{const c=[...j];c[s][n]=o,y(c)},R=async s=>{if(s.preventDefault(),loading)return;const n={...a,items:j,status:"pending"};await k.save(n)&&($(l.current).dxDataGrid("instance").refresh(),$(p.current).modal("hide"))},[t,w]=g.useState(null),[_,i]=g.useState([]),C=async s=>{const n=s.target.value,o=$(s.target).find(`option[value="${n}"]`);if(o.data("confirm")){const{isConfirmed:u}=await X.fire({title:"Actualizar estado",text:`Â¿EstÃ¡s seguro de actualizar la venta al estado "${o.text()}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Si, actualizar",cancelButtonText:"Cancelar"});if(!u)return}const x=await k.save({id:t.id,status_id:n});x&&(w(x.data),$(l.current).dxDataGrid("instance").refresh())},f=async s=>{const{isConfirmed:n}=await X.fire({title:"Anular pedido",text:"Â¿Estas seguro de anular este pedido?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, anular",cancelButtonText:"Cancelar"});!n||!await k.delete(s)||$(l.current).dxDataGrid("instance").refresh()},v=async s=>{i([]);const n=await k.get(s);w(n),$(d.current).modal("show")};g.useEffect(()=>{t&&xe.bySale(t.id).then(s=>{i(s||[])})},[t]);const D=Number(t==null?void 0:t.amount)+Number(t==null?void 0:t.delivery)-Number(t==null?void 0:t.bundle_discount)-Number(t==null?void 0:t.renewal_discount)-Number(t==null?void 0:t.coupon_discount),B=t!=null&&t.phone.clean("0-9").startsWith("51")?t==null?void 0:t.phone.clean("0-9"):`51${t==null?void 0:t.phone.clean("0-9")}`;return e.jsxs(e.Fragment,{children:[e.jsx(oe,{gridRef:l,title:"Pedidos",rest:k,toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(l.current).dxDataGrid("instance").refresh()}})},exportable:!0,pageSize:25,columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"code",caption:"Numero de orden",visible:!1},{dataField:"created_at",caption:"Fecha",dataType:"date",sortOrder:"desc",width:"150px",cellTemplate:(s,{data:n})=>{s.css("cursor","pointer"),s.on("click",()=>{v(n.id)}),P(s,e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"d-block",children:moment(n.created_at.replace("Z","-05:00")).fromNow()}),e.jsx("small",{className:"d-block text-muted",children:moment(n.created_at).format("lll")})]}))}},{dataField:"fullname",caption:"Orden",width:"250px",cellTemplate:(s,{data:n})=>{s.css("cursor","pointer"),s.on("click",()=>{v(n.id)}),P(s,e.jsxs("p",{className:"mb-0",style:{width:"100%"},children:[e.jsxs("b",{className:"d-block w-100 text-truncate",children:[n.renewal&&e.jsx(q,{content:`Plan: ${n.renewal.name}`,children:e.jsx("i",{className:"fa fas fa-spa text-pink me-1"})}),n.name," ",n.lastname]}),e.jsxs("small",{className:"text-nowrap text-muted",style:{overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,fontFamily:"monospace"},children:["#",A.APP_CORRELATIVE,"-",n.code]})]}))}},{dataField:"status.name",caption:"Estado",width:"100px",cellTemplate:(s,{data:n})=>{P(s,e.jsx(e.Fragment,{children:e.jsx(q,{content:n.status.description,children:e.jsx("span",{className:"d-block mx-auto badge rounded-pill",style:{backgroundColor:n.status.color?`${n.status.color}2e`:"#3333332e",color:n.status.color??"#333",width:"max-content",marginBottom:"4px"},children:n.status.name})})}))}},{dataField:"total_amount",caption:"Total",dataType:"number",width:"100px",cellTemplate:(s,{data:n})=>{s.text(`S/. ${b(n.total_amount)}`)}},{dataField:"phone",caption:"TelÃ©fono",width:"120px",cellTemplate:(s,{data:n})=>{s.text(n.phone.keep("0-9"))}},{dataField:"email",caption:"Email"},{dataField:"department",caption:"Departamento"},{dataField:"province",caption:"Ciudad",cellTemplate:(s,{data:n})=>{s.text(n.province||n.district)}},{caption:"Acciones",cellTemplate:(s,{data:n})=>{s.append(te({className:"btn btn-xs btn-light",title:"Ver pedido",icon:"fa fa-eye",onClick:()=>v(n.id)})),!n.status.confirm&&s.append(te({className:"btn btn-xs btn-soft-danger",title:"Anular pedido",icon:"fa fa-trash",onClick:()=>f(n.id)}))},allowFiltering:!1,allowExporting:!1}]}),e.jsx(ee,{modalRef:d,title:`Detalles del pedido #${A.APP_CORRELATIVE}-${t==null?void 0:t.code}`,size:"xl",bodyStyle:{backgroundColor:"#ebeff2"},hideButtonSubmit:!0,children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-2",children:e.jsx("h5",{className:"card-title mb-0",children:"Detalles de Venta"})}),e.jsxs("div",{className:"card-body p-2",children:[e.jsx("table",{id:"table-info",className:"table table-borderless table-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Nombres:"}),e.jsxs("td",{children:[t==null?void 0:t.name," ",t==null?void 0:t.lastname]})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Email:"}),e.jsx("td",{children:t==null?void 0:t.email})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"TelÃ©fono:"}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex gap-1 align-items-center",children:[e.jsx("img",{className:"avatar-sm rounded-circle",src:`${A.WA_URL}/api/profile/${A.APP_CORRELATIVE}/${B}`,onError:s=>{s.target.onerror=null,s.target.src="/api/admin/profile/thumbnail/undefined"},alt:(t==null?void 0:t.name)+" "+(t==null?void 0:t.lastname)}),e.jsxs("div",{children:[e.jsx("span",{className:"d-block",children:t==null?void 0:t.phone}),e.jsx("a",{href:`//wa.me/${B}`,target:"_blank",children:e.jsxs("small",{children:["Abrir WhatsApp ",e.jsx("i",{className:"mdi mdi-arrow-top-right"})]})})]})]})})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"DirecciÃ³n:"}),e.jsxs("td",{children:[t==null?void 0:t.address," ",t==null?void 0:t.number,e.jsxs("small",{className:"text-muted d-block",children:[(t==null?void 0:t.province)??(t==null?void 0:t.district),", ",t==null?void 0:t.department,", ",t==null?void 0:t.country," ",(t==null?void 0:t.zip_code)&&e.jsxs(e.Fragment,{children:["- ",t==null?void 0:t.zip_code]})]})]})]}),(t==null?void 0:t.reference)&&e.jsxs("tr",{children:[e.jsx("th",{children:"Referencia:"}),e.jsx("td",{children:t==null?void 0:t.reference})]}),(t==null?void 0:t.comment)&&e.jsxs("tr",{children:[e.jsx("th",{children:"Comentario:"}),e.jsx("td",{children:t==null?void 0:t.comment})]}),(t==null?void 0:t.billing_type)&&(t==null?void 0:t.billing_number)&&e.jsxs("tr",{children:[e.jsx("th",{children:"Comprobante:"}),e.jsxs("td",{children:[e.jsx("b",{className:"d-block",children:t.billing_type.toTitleCase()}),e.jsxs("small",{children:[e.jsx("code",{className:"me-1",children:t.billing_type=="boleta"?"DNI":"RUC"}),e.jsx("span",{children:t==null?void 0:t.billing_number})]})]})]})]})}),e.jsxs("button",{className:"btn btn-xs btn-dark",type:"button",copy:`Nombres: ${t==null?void 0:t.fullname}
Email: ${t==null?void 0:t.email}
TelÃ©fono: ${t==null?void 0:t.phone}
DirecciÃ³n: ${t==null?void 0:t.address} ${t==null?void 0:t.number}
_${(t==null?void 0:t.province)??(t==null?void 0:t.district)}, ${t==null?void 0:t.department}, ${t==null?void 0:t.country} ${t!=null&&t.zip_code?`- ${t==null?void 0:t.zip_code}`:""}_`,children:[e.jsx("i",{className:"mdi mdi-content-copy me-1"}),"Copiar"]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-2",children:e.jsx("h5",{className:"card-title mb-0",children:"ArtÃ­culos"})}),e.jsx("div",{className:"card-body p-2 table-responsive",children:e.jsxs("table",{className:"table table-striped table-bordered table-sm table-hover mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Colores"}),e.jsx("th",{children:"Precio"}),e.jsx("th",{children:"Cantidad"}),e.jsx("th",{children:"Subtotal"})]})}),e.jsx("tbody",{children:(I=t==null?void 0:t.details)==null?void 0:I.map((s,n)=>{var x;const o=s.quantity*100/100,c=s.price*s.quantity;return e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("span",{className:"d-block",children:s.name}),s.user_formula_id&&s.user_formula_id!=t.user_formula_id&&e.jsx(q,{content:e.jsx(se,{name:t==null?void 0:t.name,details:t==null?void 0:t.details,formula:s.user_formula}),allowHTML:!0,interactive:!0,children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"mdi mdi-flask me-1"}),"FÃ³rmula secundaria"]})})]}),e.jsx("td",{children:(x=s==null?void 0:s.colors)==null?void 0:x.map((u,re)=>e.jsx(q,{content:u.name,children:e.jsx("i",{className:"mdi mdi-circle",style:{color:u.hex,WebkitTextStroke:"1px #808080"}})},re))}),e.jsxs("td",{align:"right",children:["S/ ",b(s.price)]}),e.jsx("td",{align:"center",children:o}),e.jsxs("td",{align:"right",children:["S/ ",b(c)]})]},n)})})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-2",children:e.jsx("h5",{className:"card-title mb-0",children:"Resumen"})}),e.jsxs("div",{className:"card-body p-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("b",{children:"Subtotal:"}),e.jsxs("span",{children:["S/ ",b(t==null?void 0:t.amount)]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("b",{children:"EnvÃ­o:"}),e.jsx("span",{children:(t==null?void 0:t.delivery)===null?"Pago en destino":e.jsxs(e.Fragment,{children:["S/ ",b(t==null?void 0:t.delivery)]})})]}),(t==null?void 0:t.bundle)&&e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("b",{children:["Descuento x paquete:",e.jsxs("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:["Elegiste ",(z=t==null?void 0:t.bundle)==null?void 0:z.name," (-",((O=t==null?void 0:t.bundle)==null?void 0:O.percentage)*1e4/100,"%)"]})]}),e.jsxs("span",{children:["S/ -",b(t==null?void 0:t.bundle_discount)]})]}),(t==null?void 0:t.renewal)&&e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("b",{children:["SubscripciÃ³n:",e.jsxs("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:[(W=t==null?void 0:t.renewal)==null?void 0:W.name," (-",((G=t==null?void 0:t.renewal)==null?void 0:G.percentage)*1e4/100,"%)"]})]}),e.jsxs("span",{children:["S/ -",b(t==null?void 0:t.renewal_discount)]})]}),(t==null?void 0:t.coupon)&&e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("b",{children:["CupÃ³n aplicado:",e.jsxs("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:[(M=t==null?void 0:t.coupon)==null?void 0:M.name," (-",((V=t==null?void 0:t.coupon)==null?void 0:V.amount)*100/100,"%)"]})]}),e.jsxs("span",{children:["S/ -",b(t==null?void 0:t.coupon_discount)]})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("b",{children:"Total:"}),e.jsx("span",{children:e.jsxs("strong",{children:["S/ ",b(D)]})})]})]})]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-2",children:e.jsx("h5",{className:"card-title mb-0",children:"Formula principal"})}),e.jsx("div",{className:"card-body p-2",children:e.jsx(se,{name:t==null?void 0:t.name,details:t==null?void 0:t.details,formula:t==null?void 0:t.formula})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-2",children:e.jsx("h5",{className:"card-title mb-0",children:"Estado"})}),e.jsx("div",{className:"card-body p-2",children:e.jsxs("div",{className:"",children:[e.jsx("label",{htmlFor:"statusSelect",className:"form-label",children:"Estado Actual"}),e.jsx("select",{className:"form-select",id:"statusSelect",value:t==null?void 0:t.status_id,onChange:C,disabled:!((Y=t==null?void 0:t.status)!=null&&Y.reversible),children:m.map((s,n)=>e.jsx("option",{value:s.id,"data-confirm":!!s.confirm,children:s.name},n))})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-2",children:e.jsx("h5",{className:"card-title mb-0",children:"Cambios de Estado"})}),e.jsx("div",{className:"card-body p-2 d-flex flex-column gap-1",style:{maxHeight:"300px",overflowY:"auto"},children:_==null?void 0:_.map((s,n)=>{var c,x,u;const o=`${((c=s.user)==null?void 0:c.name)||""} ${((x=s.user)==null?void 0:x.lastname)||""}`.trim()||"AutomÃ¡tico";return e.jsxs("article",{className:"border py-1 px-2 ms-3",style:{position:"relative",borderRadius:"16px 4px 4px 16px",backgroundColor:s.status.color?`${s.status.color}2e`:"#3333332e"},children:[e.jsx("i",{className:"mdi mdi-circle left-2",style:{color:s.status.color||"#333",position:"absolute",left:"-25px",top:"50%",transform:"translateY(-50%)"}}),e.jsx("b",{style:{color:s.status.color||"#333"},children:(u=s==null?void 0:s.status)==null?void 0:u.name}),e.jsx("small",{className:"d-block text-truncate",children:o}),e.jsx("small",{className:"d-block text-muted",children:moment(s.created_at).format("YYYY-MM-DD HH:mm")})]},n)})})]})]})]})}),e.jsx(ee,{modalRef:p,title:"Nueva venta",size:"lg",isStatic:!0,hideFooter:!0,children:e.jsxs("form",{onSubmit:R,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 mb-4",children:[e.jsx("h4",{children:"Items"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-centered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Producto"}),e.jsx("th",{children:"Color"}),e.jsx("th",{children:"Precio"}),e.jsx("th",{children:"Cantidad"}),e.jsx("th",{children:"Total"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:j.map((s,n)=>{var o;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("select",{className:"form-select",value:s.item_id,onChange:c=>{const x=r.find(u=>u.id==c.target.value);N(n,"item_id",c.target.value),N(n,"price",(x==null?void 0:x.price)||0)},required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar producto"}),r.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]})}),e.jsx("td",{children:e.jsxs("select",{className:"form-select",value:s.color_id,onChange:c=>N(n,"color_id",c.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar color"}),(o=r.find(c=>c.id==s.item_id))==null?void 0:o.colors.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-control",value:s.price,onChange:c=>N(n,"price",c.target.value),required:!0})}),e.jsx("td",{children:e.jsx("input",{type:"number",className:"form-control",value:s.quantity,onChange:c=>N(n,"quantity",c.target.value),min:"1",required:!0})}),e.jsxs("td",{children:["S/. ",(s.price*s.quantity).toFixed(2)]}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>F(n),children:e.jsx("i",{className:"mdi mdi-trash-can"})})})]},n)})}),e.jsxs("tfoot",{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:"6",children:e.jsxs("button",{type:"button",className:"btn btn-info btn-sm",onClick:T,children:[e.jsx("i",{className:"mdi mdi-plus me-1"}),"Agregar producto"]})})}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:"4",className:"text-end",children:e.jsx("strong",{children:"Total:"})}),e.jsxs("td",{children:["S/. ",j.reduce((s,n)=>s+n.price*n.quantity,0).toFixed(2)]}),e.jsx("td",{})]})]})]})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nombres *"}),e.jsx("input",{type:"text",className:"form-control",value:a.name,onChange:s=>h(n=>({...n,name:s.target.value})),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Apellidos *"}),e.jsx("input",{type:"text",className:"form-control",value:a.lastname,onChange:s=>h(n=>({...n,lastname:s.target.value})),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Email *"}),e.jsx("input",{type:"email",className:"form-control",value:a.email,onChange:s=>h(n=>({...n,email:s.target.value})),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"TelÃ©fono *"}),e.jsx("input",{type:"tel",className:"form-control",value:a.phone,onChange:s=>h(n=>({...n,phone:s.target.value})),required:!0})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Departamento *"}),e.jsxs("select",{className:"form-select",value:a.department,onChange:s=>h(n=>({...n,department:s.target.value})),required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar departamento"}),Object.keys(S??{}).map(s=>{var n;return e.jsx("option",{value:s,children:(n=S)==null?void 0:n[s].name},s)})]})]}),((H=S)==null?void 0:H[a.department])&&e.jsxs(e.Fragment,{children:[(Z=(U=S)==null?void 0:U[a.department])!=null&&Z.items?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Provincia *"}),e.jsxs("select",{className:"form-select",value:a.province,onChange:s=>{h(n=>({...n,province:s.target.value,district:""}))},required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar provincia"}),(Q=(K=(J=S)==null?void 0:J[a.department])==null?void 0:K.items)==null?void 0:Q.map(s=>e.jsx("option",{value:s,children:s},s))]})]}):e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Seleccionar distrito *"}),e.jsx("input",{type:"text",className:"form-control",value:a.district,onChange:s=>h(n=>({...n,address:s.target.value})),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"DirecciÃ³n *"}),e.jsx("input",{type:"text",className:"form-control",value:a.address,onChange:s=>h(n=>({...n,address:s.target.value})),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Referencia"}),e.jsx("input",{type:"text",className:"form-control",value:a.reference,onChange:s=>h(n=>({...n,reference:s.target.value}))})]})]})]})]}),e.jsx("div",{className:"text-end mt-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Venta"})})]})})]})};me((m,r)=>{ae(m).render(e.jsx(le,{...r,title:"Pedidos",children:e.jsx(pe,{...r})}))});
