import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as i}from"./index-B80Lgev0.js";import{S as p}from"./sweetalert2.all-Dh0rZL5X.js";import{U as x}from"./UserFormulasRest-CUuZlsfm.js";import{m as d}from"./main-B2CtU6ez.js";import"./BasicRest-Dr9i-95X.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";const b=new x,S=({test:c,setTest:f,session:t})=>{const l=i.useRef(),[a,o]=i.useState(!1),m=async r=>{var n,u;if((n=r==null?void 0:r.preventDefault)==null||n.call(r),a)return;if(!((u=l.current.value)==null?void 0:u.trim()))return p.fire({icon:"error",title:"Oops...",text:"Por favor, ingresa tu correo electrónico"});o(!0);const s=await b.save({...c,email:l.current.value});o(!1),s&&(d.Local.delete("vua_test"),d.Local.delete("vua_cart"),location.href=`/test/result/${s.data.id}`,f({}))};return i.useEffect(()=>{t&&m({target:{value:t==null?void 0:t.email}})},[null]),e.jsx("section",{className:"p-[5%] py-[15%] md:py-[10%] lg:py-[5%] bg-white text-center text-[#404040]",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("h1",{className:"text-2xl mb-4",children:["¡Por último, para enviárte tu fórmula ",e.jsx("br",{})," personalizada déjanos ",e.jsx("b",{className:"font-bold text-[#303030]",children:"tu correo!"})]}),e.jsx("p",{className:"mb-4",children:"y entérate de nuestras novedades"}),e.jsxs("form",{className:"relative",onSubmit:m,children:[e.jsx("input",{ref:l,className:"border text-center border-[#9577B9] text-[#9577B9] bg-white text-sm rounded-full w-full px-5 py-2.5 outline-none",type:"email",placeholder:"ESCRIBE AQUÍ",defaultValue:t==null?void 0:t.email,required:!0,disabled:a}),e.jsx("button",{className:"absolute top-1/2 -translate-y-1/2 right-3 w-6 h-6 bg-[#A191B8] text-white font-bold rounded-full",type:"submit",disabled:a,children:e.jsx("i",{className:`mdi ${a?"mdi-loading mdi-spin":"mdi-arrow-right"}`})})]})]})})};export{S as default};
