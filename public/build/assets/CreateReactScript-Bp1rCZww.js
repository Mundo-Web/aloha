var O=Object.defineProperty;var h=(c,s,i)=>s in c?O(c,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[s]=i;var o=(c,s,i)=>(h(c,typeof s!="symbol"?s+"":s,i),i);import{V as E}from"./index.esm-Bf_f5uRl.js";import{m as C}from"./main-_LuzYDr5.js";/* empty css               *//* empty css              */const t=class t{};o(t,"WA_URL",null),o(t,"PUBLIC_RSA_KEY",null),o(t,"APP_PROTOCOL",null),o(t,"APP_URL",null),o(t,"APP_DOMAIN",null),o(t,"APP_NAME",null),o(t,"APP_CORRELATIVE",null),o(t,"set",(s,i)=>{t[s]=i}),o(t,"get",s=>t[s]);let f=t;const j=c=>{E({resolve:s=>`/${s}.jsx`,setup:({el:s,props:i})=>{const n=i.initialPage.props;if(n!=null&&n.global)for(const a in n.global)f.set(a,n.global[a]);const p=(a,...u)=>{var P,A,R,d;const r=[];if(Array.isArray(a))for(const e of a)r.push(...u.map(m=>`${e}.${m}`));else r.push(...u.map(e=>`${a}.${e}`));if((A=(P=n==null?void 0:n.session)==null?void 0:P.permissions)!=null&&A.find(e=>r.includes(e.name)||e.name=="general.root"))return!0;const l=((R=n==null?void 0:n.session)==null?void 0:R.roles)??[];for(const e of l)if((d=e==null?void 0:e.permissions)!=null&&d.find(m=>r.includes(m.name)||m.name=="general.root"))return!0;return!1},g=a=>{var r;return!!(((r=n==null?void 0:n.session)==null?void 0:r.roles)??[]).find(l=>l.name==a)};C.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(C.Cookies.get("XSRF-TOKEN"))},c(s,{...n,can:p,hasRole:g})}})};export{j as C,f as G};
