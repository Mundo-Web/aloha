var B=Object.defineProperty;var S=(o,a,r)=>a in o?B(o,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[a]=r;var w=(o,a,r)=>(S(o,typeof a!="symbol"?a+"":a,r),r);import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as x}from"./index-B80Lgev0.js";import{c as E}from"./ReactAppend-CBRQCQGz.js";import{B as _}from"./Base-C8pp5Bpj.js";import{C as T}from"./CreateReactScript-B4L7iD9b.js";import{m as N}from"./main-B2CtU6ez.js";import{R as b}from"./index-B1nVdsa0.js";import{S as q}from"./sweetalert2.all-Dh0rZL5X.js";import{B as R}from"./Results-CGjdirJh.js";import{P as D}from"./ProgressBar-cOY9uk2D.js";import"./index-DO3Aws4m.js";import"./tippy-react.esm-CHhA99mn.js";import"./Base-TVC2AMtK.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";/* empty css               *//* empty css              */import"./index-CqrOtH36.js";class P extends R{constructor(){super(...arguments);w(this,"path","user-formulas")}}const I=({test:o,setTest:a,setFirstTime:r})=>{const t=l=>{r(!1),a(l?{has_started:!0}:c=>({...c,has_started:!0}))};return e.jsx("section",{className:"p-[5%] py-[10%] md:py-[7.5%] lg:py-[5%] bg-white text-center",style:{backgroundImage:"url(/assets/img/test/bg-image.png)",backgroundSize:"cover",backgroundPosition:"top",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl",children:["Test para ",e.jsx("b",{children:"crear tu f√≥rmula √∫nica."})]}),e.jsx("p",{className:"my-[5%] text-sm",children:"Danos dos minutos de tu tiempo y formularemos una rutina de cuidado del cabello √∫nica solo para ti."}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 mx-auto md:mx-[12.5%]",children:[e.jsx("button",{className:"bg-[#C5B8D4] text-white text-sm px-8 py-3 rounded border border-white w-max  text-nowrap",onClick:()=>t(!1),children:o.has_started?"CONTINUAR TEST":"¬°EMPIEZA AHORA!"}),o.has_started&&e.jsx("button",{className:"bg-white text-[#9577B9] text-sm px-8 py-3 rounded border border-white w-max text-nowrap",onClick:()=>t(!0),children:"REINICIAR TEST"})]}),e.jsx("figure",{className:"h-[50vh]"})]})})},O=({test:o,setTest:a,values:r})=>{const t=l=>{a(c=>({...c,has_treatment:l}))};return e.jsx("section",{className:"p-[5%] py-[15%] md:py-[10%] lg:py-[5%] bg-white text-center text-[#404040]",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("figure",{className:"text-6xl mb-4",children:"üíÅ‚Äç‚ôÄÔ∏è"}),e.jsxs("h1",{className:"text-2xl mb-4",children:["¬øTu cabello ha recibido alg√∫n ",e.jsx("br",{className:"hidden md:block"}),e.jsx("b",{children:"tipo de tratamiento?"})]}),e.jsx("p",{className:"text-sm mb-4",children:"(Es decir, ¬øen los √∫ltimos 3 meses, te has te√±ido, laceado, hecho la queratina, etc.?)"}),e.jsx("div",{className:"flex justify-evenly text-sm gap-2",children:r.map((l,c)=>e.jsx("button",{className:"w-28 py-2 rounded border border-1-[#9577B9] text-[#9577B9] hover:border-1-[#C5B8D4] hover:bg-[#C5B8D4] hover:text-white font-bold transition-all",onClick:()=>t(l.id),children:l.description},c))})]})})};b.setAppElement("#app");const z=({test:o,setTest:a,values:r})=>{const[t,l]=x.useState(!1),c=i=>{a(s=>({...s,hair_type:i}))};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"p-[5%] py-[15%] md:py-[10%] lg:py-[5%] bg-white text-center text-[#404040]",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("h1",{className:"text-2xl mb-4",children:["Naturalmente, ¬øCu√°l es tu ",e.jsx("br",{}),e.jsx("b",{children:"tipo de cabello?"})]}),e.jsx("div",{className:"flex flex-wrap justify-evenly text-sm w-full mb-4 gap-2",children:r.map((i,s)=>e.jsxs("button",{className:"border border-1-[#9577B9] rounded-lg bg-white text-[#9577B9] hover:border-1-[#C5B8D4]  hover:bg-[#C5B8D4] hover:text-white font-bold w-32 min-w-32 transition-all",onClick:()=>c(i.id),children:[e.jsx("img",{className:"aspect-[4/3] rounded hover:scale-105 transition-all",src:`/assets/img/test/${i.correlative}.png`,alt:"Crespo"}),e.jsx("p",{className:"p-2",children:i.description})]},s))}),e.jsxs("p",{className:"text-sm mb-4",children:["Conoce tu tipo de cabello ",e.jsx("button",{className:"underline",onClick:()=>l(!0),children:"aqu√≠ "})]})]})}),e.jsxs(b,{isOpen:t,onRequestClose:()=>l(!1),className:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bg-white p-10 rounded-2xl shadow-lg w-[95%] max-w-lg ",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-50",children:[e.jsx("span",{className:"rounded-full px-4 py-2 bg-[#C5B8D4] text-white mx-auto block mb-4 w-max",children:"¬øCon cu√°l te identificas?"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("img",{className:"p-[2.5%] md:p-[5%] aspect-square rounded-full",src:"/assets/img/test/ht-coily.png",alt:""}),e.jsx("span",{className:"block my-2 w-max mx-auto px-3 py-1.5 rounded-full border text-sm",children:"Crespo"}),e.jsx("div",{className:"text-[8px] text-start",children:"Presenta bucles que comienzan en el cuero cabelludo en direcci√≥n hacia abajo hasta llegar a las puntas. Los rizos son abiertos, hidratados y con brillo. Suelen tener poca definici√≥n y son propensos al frizz."})]}),e.jsxs("div",{children:[e.jsx("img",{className:"p-[2.5%] md:p-[5%] aspect-square rounded-full",src:"/assets/img/test/ht-wavy.png",alt:""}),e.jsx("span",{className:"block my-2 w-max mx-auto px-3 py-1.5 rounded-full border text-sm",children:"Ondulado"}),e.jsx("div",{className:"text-[8px] text-start",children:"Se trata de cabellos que forman la letra S en todo lo largo de los rizos o de las ondas. Su forma siempre inicia pr√≥ximo al cuero cabelludo y mantienen la misma forma sin importar el corte que presente."})]}),e.jsxs("div",{children:[e.jsx("img",{className:"p-[2.5%] md:p-[5%] aspect-square rounded-full",src:"/assets/img/test/ht-straight.png",alt:""}),e.jsx("span",{className:"block my-2 w-max mx-auto px-3 py-1.5 rounded-full border text-sm",children:"Lacio"}),e.jsx("div",{className:"text-[8px] text-start",children:"Por lo general es m√°s brillante y plano. No se le forman ondas naturalmente y tampoco es f√°cil que mantenga un peinado por mucho tiempo, pues tiende a regresar a su forma natural."})]})]})]})]})};b.setAppElement("#app");const A=({test:o,setTest:a,values:r})=>{const[t,l]=x.useState(!1),c=i=>{a(s=>({...s,scalp_type:i}))};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"p-[5%] py-[15%] md:py-[10%] lg:py-[5%] bg-white text-center text-[#404040]",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("h1",{className:"text-2xl mb-4",children:["Tu ",e.jsx("b",{children:"cuero cabelludo"})," es:"]}),e.jsx("div",{className:"flex justify-evenly text-sm w-full mb-4 gap-2 h-32",children:r.map((i,s)=>e.jsxs("figure",{className:"flex flex-col gap-4 text-4xl transition-all group",children:[e.jsx("button",{className:"w-28 py-2 rounded border border-[#9577B9] text-[#9577B9] hover:border-[#C5B8D4] hover:bg-[#C5B8D4] hover:text-white font-bold text-base",onClick:()=>c(i.id),children:i.description}),e.jsx("img",{className:"w-10 h-auto mx-auto transform transition-all duration-300 group-hover:w-12",src:`/assets/img/scalp_types/${i.correlative}.png`})]},s))}),e.jsxs("p",{className:"text-sm mb-4",children:["Conoce tu tipo de cuero cabelludo ",e.jsx("button",{className:"underline",onClick:()=>l(!0),children:"aqu√≠ "})]})]})}),e.jsxs(b,{isOpen:t,onRequestClose:()=>l(!1),className:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bg-white p-10 rounded-2xl shadow-lg w-[95%] max-w-lg ",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-50",children:[e.jsx("span",{className:"rounded-full px-4 py-2 bg-[#C5B8D4] text-white mx-auto block mb-4 w-max",children:"¬øCon cu√°l te identificas?"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("img",{className:"p-[2.5%] md:p-[5%] aspect-square rounded-full",src:"/assets/img/test/dry.png",alt:""}),e.jsx("span",{className:"block my-2 w-max mx-auto px-3 py-1.5 rounded-full border text-sm",children:"Seco"}),e.jsxs("ul",{className:"text-[8px] text-start",children:[e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Tiene un aspecto apagado."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Es √°spero al tacto."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Se enreda f√°cilmente y es dif√≠cil de peinar."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Presenta puntas abiertas o bifurcadas."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Suele tener electricidad est√°tica."]})]})]}),e.jsxs("div",{children:[e.jsx("img",{className:"p-[2.5%] md:p-[5%] aspect-square rounded-full",src:"/assets/img/test/normal.png",alt:""}),e.jsx("span",{className:"block my-2 w-max mx-auto px-3 py-1.5 rounded-full border text-sm",children:"Normal"}),e.jsxs("ul",{className:"text-[8px] text-start",children:[e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Se mantiene bien el peinado."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Casi siempre presenta un buen aspecto."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Al tacto no es graso ni seco."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Tiene un aspecto brillante y sano."]})]})]}),e.jsxs("div",{children:[e.jsx("img",{className:"p-[2.5%] md:p-[5%] aspect-square rounded-full",src:"/assets/img/test/oily.png",alt:""}),e.jsx("span",{className:"block my-2 w-max mx-auto px-3 py-1.5 rounded-full border text-sm",children:"Graso"}),e.jsxs("ul",{className:"text-[8px] text-start",children:[e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Despu√©s del lavado, la grasa aparece enseguida."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"No presenta el brillo."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Se ve sin firmeza y no tiene volumen."]}),e.jsxs("li",{className:"flex gap-1",children:[e.jsx("i",{className:"mdi mdi-circle-small font-bold"}),"Se pega al cuero cabelludo y tiende a que se adhiera con mayor facilidad el polvo."]})]})]})]})]})]})},F=({test:o,setTest:a,values:r})=>{const[t,l]=x.useState([]),c=s=>{t.includes(s)?l(t.filter(d=>d!==s)):t.length<3&&l([...t,s])},i=()=>{a(s=>({...s,hair_goals:t.length>=3?t.sort((d,u)=>u>d?-1:1):null}))};return x.useEffect(()=>{},[t]),e.jsx(e.Fragment,{children:e.jsx("section",{className:"p-[5%] py-[15%] md:py-[10%] lg:py-[5%] bg-white text-center text-[#404040]",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("h1",{className:"text-2xl mb-4",children:["¬øQu√© ",e.jsx("b",{children:"quieres lograr"})," con tu cabello"]}),e.jsx("p",{className:"text-sm mb-4",children:"Selecciona 3 objetivos para tu f√≥rmula"}),e.jsx("div",{className:"flex flex-wrap justify-evenly text-sm w-full mb-4 gap-2",children:r.map((s,d)=>e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",id:`goal-${d}`,value:s.id,checked:t.includes(s.id),onChange:()=>c(s.id),disabled:!t.includes(s.id)&&t.length>=3,className:"peer sr-only"}),e.jsx("label",{htmlFor:`goal-${d}`,className:"flex items-center justify-center rounded border border-[#C5B8D4] h-12 w-36 px-2 font-bold leading-tight text-[#9577B9] cursor-pointer transition-colors duration-200 peer-checked:bg-[#C5B8D4] peer-checked:text-white hover:bg-[#9577B9]/10 peer-disabled:opacity-50 peer-disabled:cursor-not-allowed uppercase",children:s.description})]},d))}),t.length>=3&&e.jsx("div",{className:"text-end",children:e.jsxs("button",{className:"h-10 px-4 bg-[#9577B9] text-white rounded-full transition-all",onClick:i,children:["SIGUIENTE",e.jsx("i",{className:"mdi mdi-arrow-right ms-2"})]})})]})})})},$=({test:o,setTest:a,values:r})=>{const t=l=>{a(c=>({...c,fragrance:l}))};return e.jsx("section",{className:"p-[5%] py-[15%] md:py-[10%] lg:py-[5%] bg-white text-center text-[#404040]",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("h1",{className:"text-2xl mb-8",children:["Elige la ",e.jsx("b",{children:"fragancia"})," de tu rutina"]}),e.jsx("div",{className:"flex flex-wrap justify-center text-sm w-full mb-4 gap-4",children:r.map((l,c)=>e.jsxs("button",{className:"border border-1-[#C5B8D4] rounded-lg bg-white text-[#9577B9] font-bold w-36",onClick:()=>t(l.id),children:[e.jsx("img",{className:"aspect-[5/3] rounded w-full object-cover object-center hover:scale-105 transition-all",src:`/api/fragrances/media/${l.image}`,alt:"Crespo"}),e.jsx("p",{className:"p-2 truncate",children:l.name})]},c))})]})})},L=new P,M=({test:o,setTest:a,session:r})=>{const t=x.useRef(),[l,c]=x.useState(!1),i=async s=>{var g,h;if((g=s==null?void 0:s.preventDefault)==null||g.call(s),l)return;if(!((h=t.current.value)==null?void 0:h.trim()))return q.fire({icon:"error",title:"Oops...",text:"Por favor, ingresa tu correo electr√≥nico"});c(!0);const u=await L.save({...o,email:t.current.value});c(!1),u&&(N.Local.delete("test"),location.href=`/test/result/${u.data.id}`,a({}))};return x.useEffect(()=>{r&&i({target:{value:r==null?void 0:r.email}})},[null]),e.jsx("section",{className:"p-[5%] py-[15%] md:py-[10%] lg:py-[5%] bg-white text-center text-[#404040]",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("h1",{className:"text-2xl mb-4",children:["¬°Por √∫ltimo, para envi√°rte tu f√≥rmula ",e.jsx("br",{})," personalizada d√©janos ",e.jsx("b",{children:"tu correo!"})]}),e.jsx("p",{className:"mb-4",children:"y recibe 10% off con un c√≥digo exclusivo para ti ü§´"}),e.jsxs("form",{className:"relative",onSubmit:i,children:[e.jsx("input",{ref:t,className:"border text-center border-[#9577B9] text-[#9577B9] bg-white text-sm rounded-full w-full px-5 py-2.5 outline-none",type:"email",placeholder:"ESCRIBE AQU√ç",defaultValue:r==null?void 0:r.email,required:!0,disabled:l}),e.jsx("button",{className:"absolute top-1/2 -translate-y-1/2 right-3 w-6 h-6 bg-[#A191B8] text-white font-bold rounded-full",type:"submit",disabled:l,children:e.jsx("i",{className:`mdi ${l?"mdi-loading fa-spin":"mdi-arrow-right"}`})})]})]})})},G=({session:o,hasTreatment:a,scalpType:r,hairType:t,hairGoals:l,fragrances:c})=>{const i=N.Local.get("vua_test")??{};a.find(n=>n.id==i.has_treatment)||(i.has_treatment=null),r.find(n=>n.id==i.scalp_type)||(i.scalp_type=null),t.find(n=>n.id==i.hair_type)||(i.hair_type=null),l.find(n=>{var f;return(f=i.hair_goals)==null?void 0:f.some(j=>j==n.id)})||(i.hair_goals=null),c.find(n=>n.id==i.fragrance)||(i.fragrance=null);const[s,d]=x.useState(i),[u,g]=x.useState(!0),h={has_started:e.jsx(I,{test:s,setTest:d,setFirstTime:g}),has_treatment:e.jsx(O,{test:s,setTest:d,values:a}),scalp_type:e.jsx(A,{test:s,setTest:d,values:r}),hair_type:e.jsx(z,{test:s,setTest:d,values:t}),hair_goals:e.jsx(F,{test:s,setTest:d,values:l}),fragrance:e.jsx($,{test:s,setTest:d,values:c}),email:e.jsx(M,{test:s,setTest:d,session:o})},m=Object.keys(h),p=()=>{if(u)return 0;for(let n=0;n<m.length;n++)if(s[m[n]]===null||typeof s[m[n]]>"u")return n;return m.length},v=()=>{const n=p();return n===0&&!s.has_started?h.has_started:n<m.length?h[m[n]]:location.href="/test/result"},C=()=>{const n=p();if(n>0){const f=m[n-1];d(j=>{const y={...j};return delete y[f],y})}};x.useEffect(()=>{N.Local.set("vua_test",s)},[s]);const k=p()/m.length*100;return e.jsxs(e.Fragment,{children:[p()>0&&p()!=m.length&&e.jsx("div",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pt-[5%]",children:e.jsx(D,{width:`${k}%`})}),v(),p()>0&&p()!=m.length&&e.jsx("section",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%]",children:e.jsx("button",{className:"h-10 w-10 bg-[#DBCEEB] text-white rounded-full",onClick:C,children:e.jsx("i",{className:"mdi mdi-arrow-left"})})})]})};T((o,a)=>{E(o).render(e.jsx(_,{...a,children:e.jsx(G,{...a})}))});
