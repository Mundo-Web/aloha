var M=Object.defineProperty;var S=(t,l,r)=>l in t?M(t,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[l]=r;var w=(t,l,r)=>(S(t,typeof l!="symbol"?l+"":l,r),r);import{r as m,R as e}from"./Footer-B80Lgev0.js";import{c as B}from"./ReactAppend-BbdAvxK7.js";import{M as T}from"./Modal-XkEoS3lt.js";import{T as D}from"./Table-w4bmKtdW.js";import{I as f}from"./InputFormGroup-CZpmvUlF.js";import{S as I}from"./SelectFormGroup-qoOLdQsk.js";import{T as P}from"./TextareaFormGroup-CH1nUIqS.js";import{C as z}from"./CreateReactScript-QlbMmlWm.js";import{S as q}from"./SetSelectValue-DL-AgtMG.js";import{B as G}from"./BusinessIWorkCard-rEAJw_L_.js";import{L as N,W as L,i as p}from"./WhatsAppStatuses-BF-FjpQX.js";import"./TippyButton-TBKQ4cvW.js";import{a as W}from"./MenuItem-COCTGmIB.js";import{m as U}from"./NavBar-BThilt_4.js";import"./___vite-browser-external_commonjs-proxy-BiUUwCOo.js";class j extends G{constructor(){super(...arguments);w(this,"path","coaches")}}const _=({can:t,session:l={},title:r="",whatsappStatus:n})=>{const{color:o}=L[n];return m.useEffect(()=>{document.title=`${r} | Atalaya`},[null]),e.createElement("div",{className:"navbar-custom"},e.createElement("ul",{className:"list-unstyled topnav-menu float-end mb-0"},t("whatsapp","root","all")&&e.createElement("li",{className:"notification-list topbar-dropdown"},e.createElement("a",{className:"nav-link waves-effect waves-light","data-bs-toggle":"modal","data-bs-target":"#whatsapp-modal"},e.createElement("span",{className:"position-relative"},e.createElement("i",{className:"mdi mdi-whatsapp noti-icon"}),e.createElement("span",{className:`position-absolute top-0 start-100 translate-middle p-1 bg-${o} rounded-circle`},e.createElement("span",{className:"visually-hidden"},"New alerts"))))),e.createElement("li",{className:"dropdown notification-list topbar-dropdown"},e.createElement("a",{className:"nav-link dropdown-toggle nav-user me-0 waves-effect waves-light","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"false","aria-expanded":"false"},e.createElement("img",{src:`api/profile/thumbnail/${l==null?void 0:l.uuid}?v=${crypto.randomUUID()}`,alt:"user-image",className:"rounded-circle",style:{objectFit:"cover",objectPosition:"center"}}),e.createElement("span",{className:"pro-user-name ms-1"},l==null?void 0:l.name," ",l==null?void 0:l.lastname,e.createElement("i",{className:"mdi mdi-chevron-down"}))),e.createElement("div",{className:"dropdown-menu dropdown-menu-end profile-dropdown "},e.createElement("div",{className:"dropdown-header noti-title"},e.createElement("h6",{className:"text-overflow m-0"},"Bienvenido !")),e.createElement("a",{href:"/profile",className:"dropdown-item notify-item"},e.createElement("i",{className:"fe-user"}),e.createElement("span",null,"Mi perfil")),e.createElement("a",{href:"/account",className:"dropdown-item notify-item"},e.createElement("i",{className:"mdi mdi-account-key-outline"}),e.createElement("span",null,"Mi cuenta")),e.createElement("a",{href:"#",className:"dropdown-item notify-item right-bar-toggle dropdown notification-list"},e.createElement("i",{className:"fe-lock"}),e.createElement("span",null,"Configuracion")),e.createElement("div",{className:"dropdown-divider"}),e.createElement("a",{href:"#",className:"dropdown-item notify-item",onClick:N},e.createElement("i",{className:"fe-log-out"}),e.createElement("span",null,"Cerrar sesion")))),e.createElement("li",{className:"dropdown notification-list"},e.createElement("a",{href:"#",className:"nav-link right-bar-toggle waves-effect waves-light"},e.createElement("i",{className:"fe-settings noti-icon"})))),e.createElement("div",{className:"logo-box"},e.createElement("a",{href:"/home",className:"logo logo-light text-center"},e.createElement("span",{className:"logo-sm"},e.createElement("img",{src:"/assets/img/icon.svg",alt:"",height:"22"})),e.createElement("span",{className:"logo-lg"},e.createElement("img",{src:"/assets/img/logo.svg",alt:"",height:"16"}))),e.createElement("a",{href:"/home",className:"logo logo-dark text-center"},e.createElement("span",{className:"logo-sm"},e.createElement("img",{src:"/assets/img/icon-dark.svg",alt:"",height:"22"})),e.createElement("span",{className:"logo-lg"},e.createElement("img",{src:"/assets/img/logo-dark.svg",alt:"",height:"16"})))),e.createElement("ul",{className:"list-unstyled topnav-menu topnav-menu-left mb-0"},e.createElement("li",null,e.createElement("button",{className:"button-menu-mobile disable-btn waves-effect"},e.createElement("i",{className:"fe-menu"}))),e.createElement("li",null,e.createElement("h4",{className:"page-title-main"},r))),e.createElement("div",{className:"clearfix"}))},h=({href:t,icon:l,children:r})=>e.createElement("li",{className:location.pathname.startsWith(t)?"menuitem-active":""},e.createElement(W,{href:t,className:location.pathname.startsWith(t)?"active":""},e.createElement("i",{className:l}),e.createElement("span",null," ",r," "))),O=({session:t,can:l})=>{var o;const r=((o=t==null?void 0:t.roles)==null?void 0:o[0])??{},n=moment(t==null?void 0:t.birthdate).format("MM-DD")==moment().format("MM-DD");return e.createElement("div",{className:"left-side-menu"},e.createElement("div",{className:"h-100","data-simplebar":!0},e.createElement("div",{className:"user-box text-center"},e.createElement("img",{src:`api/profile/thumbnail/${t==null?void 0:t.uuid}?v=${new Date(t==null?void 0:t.updated_at).getTime()}`,alt:t==null?void 0:t.name,title:t==null?void 0:t.name,className:"rounded-circle img-thumbnail avatar-md",style:{backgroundColor:"unset",borderColor:"#98a6ad",objectFit:"cover",objectPosition:"center"}}),e.createElement("div",{className:"dropdown"},e.createElement("a",{href:"#",className:"user-name dropdown-toggle h5 mt-2 mb-1 d-block","data-bs-toggle":"dropdown","aria-expanded":"false"},t==null?void 0:t.name," ",t==null?void 0:t.lastname," ",n?e.createElement(p,{content:`Feliz cumpleaños ${t==null?void 0:t.name}`,arrow:!0},e.createElement("i",{className:" fas fa-birthday-cake text-danger"})):""),e.createElement("div",{className:"dropdown-menu user-pro-dropdown"},e.createElement("a",{href:"/profile",className:"dropdown-item notify-item"},e.createElement("i",{className:"fe-user me-1"}),e.createElement("span",null,"Mi perfil")),e.createElement("a",{href:"/account",className:"dropdown-item notify-item"},e.createElement("i",{className:"mdi mdi-account-key-outline me-1"}),e.createElement("span",null,"Mi cuenta")),e.createElement("a",{href:"#",className:"dropdown-item notify-item right-bar-toggle dropdown notification-list"},e.createElement("i",{className:"fe-settings me-1"}),e.createElement("span",null,"Configuracion")),e.createElement("a",{href:"#",className:"dropdown-item notify-item",onClick:N},e.createElement("i",{className:"fe-log-out me-1"}),e.createElement("span",null,"Cerrar sesion")))),e.createElement(p,{content:r.description,arrow:!0},e.createElement("p",{className:"text-muted left-user-info"},r.name)),e.createElement("ul",{className:"list-inline"},e.createElement("li",{className:"list-inline-item"},e.createElement(p,{content:"Configuracion"},e.createElement("a",{href:"#",className:"text-muted left-user-info right-bar-toggle dropdown notification-list"},e.createElement("i",{className:"mdi mdi-cog"})))),e.createElement("li",{className:"list-inline-item"},e.createElement(p,{content:"Cerrar sesion"},e.createElement("a",{href:"#",className:"text-danger",onClick:N},e.createElement("i",{className:"mdi mdi-power"})))))),e.createElement("div",{id:"sidebar-menu",className:"show"},e.createElement("ul",{id:"side-menu"},e.createElement("li",{className:"menu-title"},"Panel de navegacion"),e.createElement(h,{href:"/home",icon:"mdi mdi-home"},"Inicio"),e.createElement(h,{href:"/businesses",icon:"mdi mdi-account-multiple"},"Coaches"),e.createElement("li",{className:"menu-title"},"Configuracion"),e.createElement(h,{href:"/profile",icon:"mdi mdi-account"},"Mi perfil"),e.createElement(h,{href:"/account",icon:"mdi mdi-account-key"},"Mi cuenta"))),e.createElement("div",{className:"clearfix"})))},Y=()=>{const t=new Date().getFullYear();return e.createElement("footer",{className:"footer"},e.createElement("div",{className:"container-fluid"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},t," © Atalaya | Propiedad de ",e.createElement("a",{href:"//mundoweb.pe"},"Mundo Web")),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"text-md-end footer-links d-none d-sm-block"},e.createElement("a",{href:"#"},"Sobre nosotros"),e.createElement("a",{href:"#"},"Manual de usuario"),e.createElement("a",{href:"#"},"Contactanos"))))))},V=()=>{const t=U.Local.get("adminto_settings")??{},l=document.getElementById("bs-default-stylesheet"),r=document.getElementById("bs-dark-stylesheet"),n=document.getElementById("app-default-stylesheet"),o=document.getElementById("app-dark-stylesheet"),s=document.getElementById("dg-default-stylesheet"),d=document.getElementById("dg-dark-stylesheet");t.theme=="dark"?(r.disabled=!1,o.disabled=!1,d.disabled=!1,l.disabled=!0,n.disabled=!0,s.disabled=!0):(l.disabled=!1,n.disabled=!1,s.disabled=!1,r.disabled=!0,o.disabled=!0,d.disabled=!0);const i=document.body;return i.setAttribute("data-layout-width",t.width??"fluid"),i.setAttribute("data-layout-menu-position",t.menuPosition??"fixed"),i.setAttribute("data-sidebar-color",t.menuColor??"light"),i.setAttribute("data-sidebar-showuser",t.userInfo??!0),i.setAttribute("data-sidebar-size",t.menuSize??"default"),i.setAttribute("data-topbar-color",t.navbarColor??"light"),e.createElement("div",{className:"right-bar"},e.createElement("div",{"data-simplebar":!0,className:"h-100"},e.createElement("div",{className:"rightbar-title"},e.createElement("a",{href:"#",className:"right-bar-toggle float-end"},e.createElement("i",{className:"mdi mdi-close"})),e.createElement("h4",{className:"font-16 m-0 text-white"},"Configurar tema")),e.createElement("div",{className:"tab-content pt-0"},e.createElement("div",{className:"tab-pane active",id:"settings-tab",role:"tabpanel"},e.createElement("div",{className:"p-3"},e.createElement("div",{className:"alert alert-warning",role:"alert"},e.createElement("strong",null,"Modifica ")," el tema, el menu, la barra superior, etc."),e.createElement("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1"},"Tema principal"),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"checkbox",className:"form-check-input",name:"color-scheme-mode",id:"light-mode-check",defaultChecked:t.theme=="dark"}),e.createElement("label",{className:"form-check-label",htmlFor:"light-mode-check"},t.theme=="dark"?"Modo oscuro":"Modo claro")),e.createElement("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1"},"Ancho de la ventana"),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"checkbox",className:"form-check-input",name:"width",id:"fluid-check",defaultChecked:t.width=="boxed"}),e.createElement("label",{className:"form-check-label",htmlFor:"fluid-check"},t.width=="boxed"?"Encuadrado":"Completo")),e.createElement("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1"},"Posicion del menu y el nabvar"),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"checkbox",className:"form-check-input",name:"menus-position",id:"fixed-check",defaultChecked:t.menuPosition=="scrollable"}),e.createElement("label",{className:"form-check-label",htmlFor:"fixed-check"},t.menuPosition=="scrollable"?"Posision dinamica":"Posicion fija")),e.createElement("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1"},"Color del menu"),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"light",id:"light-check",defaultChecked:!t.menuColor||t.menuColor=="light"}),e.createElement("label",{className:"form-check-label",htmlFor:"light-check"},"Claro")),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"dark",id:"dark-check",defaultChecked:t.menuColor=="dark"}),e.createElement("label",{className:"form-check-label",htmlFor:"dark-check"},"Oscuro")),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"brand",id:"brand-check",defaultChecked:t.menuColor=="brand"}),e.createElement("label",{className:"form-check-label",htmlFor:"brand-check"},"Brand")),e.createElement("div",{className:"form-check form-switch mb-3"},e.createElement("input",{type:"radio",className:"form-check-input",name:"leftsidebar-color",value:"gradient",id:"gradient-check",defaultChecked:t.menuColor=="gradient"}),e.createElement("label",{className:"form-check-label",htmlFor:"gradient-check"},"Gradiente")),e.createElement("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1"},"Medida del menu"),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"radio",className:"form-check-input",name:"leftsidebar-size",value:"default",id:"default-size-check",defaultChecked:!t.menuSize||t.menuSize=="default"}),e.createElement("label",{className:"form-check-label",htmlFor:"default-size-check"},"Por defecto")),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"radio",className:"form-check-input",name:"leftsidebar-size",value:"condensed",id:"condensed-check",defaultChecked:t.menuSize=="condensed"}),e.createElement("label",{className:"form-check-label",htmlFor:"condensed-check"},"Condensado ",e.createElement("small",null,"(Tamaño extra pequeño)"))),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"radio",className:"form-check-input",name:"leftsidebar-size",value:"compact",id:"compact-check",defaultChecked:t.menuSize=="compact"}),e.createElement("label",{className:"form-check-label",htmlFor:"compact-check"},"Compacto ",e.createElement("small",null,"(Tamaño pequeño)"))),e.createElement("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1"},"Informacion del Usuario (Menu)"),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"checkbox",className:"form-check-input",name:"leftsidebar-user",value:"fixed",id:"sidebaruser-check",defaultChecked:t.userInfo!=!1}),e.createElement("label",{className:"form-check-label",htmlFor:"sidebaruser-check"},t.userInfo=="false"?"Ocultar":"Mostrar")),e.createElement("h6",{className:"fw-medium font-14 mt-4 mb-2 pb-1"},"Color de la barra superior"),e.createElement("div",{className:"form-check form-switch mb-1"},e.createElement("input",{type:"checkbox",className:"form-check-input",name:"topbar-color",value:"dark",id:"darktopbar-check",defaultChecked:t.navbarColor=="dark"}),e.createElement("label",{className:"form-check-label",htmlFor:"darktopbar-check"},t.navbarColor=="dark"?"Oscuro":"Acorde al cuerpo")),e.createElement("div",{className:"d-grid mt-4"},e.createElement("button",{className:"btn btn-primary",id:"resetBtn"},"Restablecer")))))))};moment.tz.setDefault("UTC");const H=({session:t,children:l,title:r,can:n,WA_URL:o,APP_URL:s})=>{const[d,i]=m.useState("verifying");return e.createElement(e.Fragment,null,e.createElement("div",{id:"wrapper"},e.createElement(_,{session:t,title:r,can:n,whatsappStatus:d}),e.createElement(O,{session:t,can:n}),e.createElement("div",{className:"content-page"},e.createElement("div",{className:"content"},e.createElement("div",{className:"container-fluid"},l)),e.createElement(Y,null))),e.createElement(V,null),e.createElement("div",{className:"rightbar-overlay"}))},E=new j,J=({countries:t})=>{const l=m.useRef(),r=m.useRef(),n=m.useRef(),o=m.useRef(),s=m.useRef(),d=m.useRef(),i=m.useRef(),y=m.useRef(),C=m.useRef(),g=m.useRef(),b=m.useRef(),[R,k]=m.useState(!1),v=a=>{var c,u;a!=null&&a.id?k(!0):k(!1),n.current.value=(a==null?void 0:a.id)||null,q(o.current,(c=a==null?void 0:a.table)==null?void 0:c.id,(u=a==null?void 0:a.table)==null?void 0:u.name),s.current.value=(a==null?void 0:a.name)||null,g.current.value=(a==null?void 0:a.color)||"#343a40",b.current.value=(a==null?void 0:a.description)||null,$(r.current).modal("show")},x=async a=>{a.preventDefault();const c={id:n.current.value||void 0,table_id:o.current.value,name:s.current.value,color:C.current.value,description:b.current.value};await E.save(c)&&($(l.current).dxDataGrid("instance").refresh(),$(r.current).modal("hide"))},F=async({id:a,status:c})=>{await E.status({id:a,status:c})&&$(l.current).dxDataGrid("instance").refresh()},A=async a=>{await E.delete(a)&&$(l.current).dxDataGrid("instance").refresh()};return e.createElement(e.Fragment,null,e.createElement(D,{gridRef:l,title:"Coaches",rest:E,toolBar:a=>{a.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(l.current).dxDataGrid("instance").refresh()}}),a.unshift({widget:"dxButton",location:"after",options:{icon:"plus",hint:"Nuevo registro",onClick:()=>v()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"table.name",caption:"Tabla",dataType:"string"},{dataField:"name",caption:"Estado de tabla"},{dataField:"color",caption:"Color",cellTemplate:(a,{data:c})=>{ReactAppend(a,e.createElement("span",{className:"badge rounded-pill",style:{backgroundColor:c.color||"#343a40"}},c.color))}},{dataField:"description",caption:"Descripcion",cellTemplate:(a,{value:c})=>{c?ReactAppend(a,c):ReactAppend(a,e.createElement("i",{className:"text-muted"},"- Sin descripcion -"))}},{dataField:"status",caption:"Estado",dataType:"boolean",cellTemplate:(a,{data:c})=>{switch(c.status){case 1:ReactAppend(a,e.createElement("span",{className:"badge bg-success rounded-pill"},"Activo"));break;case 0:ReactAppend(a,e.createElement("span",{className:"badge bg-danger rounded-pill"},"Inactivo"));break;default:ReactAppend(a,e.createElement("span",{className:"badge bg-dark rounded-pill"},"Eliminado"));break}}},{caption:"Acciones",cellTemplate:(a,{data:c})=>{a.attr("style","display: flex; gap: 4px; overflow: unset"),ReactAppend(a,e.createElement(TippyButton,{className:"btn btn-xs btn-soft-primary",title:"Editar",onClick:()=>v(c)},e.createElement("i",{className:"fa fa-pen"}))),ReactAppend(a,e.createElement(TippyButton,{className:"btn btn-xs btn-light",title:c.status===null?"Restaurar":"Cambiar estado",onClick:()=>F(c)},c.status===1?e.createElement("i",{className:"fa fa-toggle-on text-success"}):c.status===0?e.createElement("i",{className:"fa fa-toggle-off text-danger"}):e.createElement("i",{className:"fas fa-trash-restore"}))),ReactAppend(a,e.createElement(TippyButton,{className:"btn btn-xs btn-soft-danger",title:"Eliminar",onClick:()=>A(c.id)},e.createElement("i",{className:"fa fa-trash-alt"})))},allowFiltering:!1,allowExporting:!1}]}),e.createElement(T,{modalRef:r,title:R?"Editar datos del coach":"Agregar nuevo coach",onSubmit:x,size:"md"},e.createElement("div",{className:"row",id:"status-crud-container"},e.createElement("input",{ref:n,type:"hidden"}),e.createElement(f,{eRef:s,label:"Nombre completo",col:"col-12",required:!0}),e.createElement(f,{eRef:d,label:"Especialidad",col:"col-12",required:!0}),e.createElement(I,{eRef:y,label:"Pais",col:"col-md-6",dropdownParent:"#status-crud-container",required:!0},t.map((a,c)=>e.createElement("option",{key:`country-${c}`,value:a.id},a.name))),e.createElement(f,{eRef:i,label:"Ciudad",col:"col-md-6",required:!0}),e.createElement(f,{eRef:g,label:"Telefono de contacto",col:"col-12",required:!0}),e.createElement(P,{eRef:b,label:"Reseña",col:"col-12"}))))};z((t,l)=>{B(t).render(e.createElement(H,{...l,title:"Coaches"},e.createElement(J,{...l})))});
