var I=Object.defineProperty;var N=(a,t,i)=>t in a?I(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var n=(a,t,i)=>(N(a,typeof t!="symbol"?t+"":t,i),i);import{V as T}from"./index.esm-Bla6j_hB.js";import{m as g}from"./main-BjVPLcVK.js";/* empty css               *//* empty css              */const c=class c{};n(c,"WA_URL",null),n(c,"PUBLIC_RSA_KEY",null),n(c,"APP_PROTOCOL",null),n(c,"APP_URL",null),n(c,"APP_ENV","production"),n(c,"WA_URL",null),n(c,"APP_DOMAIN",null),n(c,"APP_NAME",null),n(c,"APP_CORRELATIVE",null),n(c,"GMAPS_API_KEY",null),n(c,"set",(t,i)=>{c[t]=i}),n(c,"get",t=>c[t]);let f=c;const u=class u{};n(u,"name",null),n(u,"set",(t,i)=>{u[t]=i}),n(u,"get",t=>u[t]);let A=u;const K=a=>{T({resolve:t=>`/${t}.jsx`,setup:({el:t,props:i})=>{const s=i.initialPage.props;if(s!=null&&s.global)for(const e in s.global)f.set(e,s.global[e]);const d={...s==null?void 0:s.session};for(const e in d)A.set(`${e}`,d[e]);const O=(e,...P)=>{var R,h,C,E;const r=[];if(Array.isArray(e))for(const o of e)r.push(...P.map(m=>`${o}.${m}`));else r.push(...P.map(o=>`${e}.${o}`));if((h=(R=s==null?void 0:s.session)==null?void 0:R.permissions)!=null&&h.find(o=>r.includes(o.name)||o.name=="general.root"))return!0;const l=((C=s==null?void 0:s.session)==null?void 0:C.roles)??[];for(const o of l)if((E=o==null?void 0:o.permissions)!=null&&E.find(m=>r.includes(m.name)||m.name=="general.root"))return!0;return!1},p=e=>{var r;return!!(((r=s==null?void 0:s.session)==null?void 0:r.roles)??[]).find(l=>l.name==e)};g.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(g.Cookies.get("XSRF-TOKEN"))},a(t,{...s,can:O,hasRole:p}),f.APP_ENV=="local"&&$(".modal-backdrop").each(function(){$(this).text()||$(this).remove()})}})};export{K as C,f as G};
