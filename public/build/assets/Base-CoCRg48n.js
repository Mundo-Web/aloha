import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as c}from"./index-B80Lgev0.js";import{i as N}from"./tippy-react.esm-CHhA99mn.js";import{m as y}from"./main-B2CtU6ez.js";import{L as v}from"./Logout-CPQZ59pt.js";import{F as R}from"./Base-ku_qAI12.js";const w=({session:s,showSlogan:u,gradientStart:m,menuGradientEnd:h})=>{const[a,o]=c.useState(!1),d=c.useRef(null),r=c.useRef(null),p=f=>{f.target.closest(".menu-toggle")?o(!a):o(!1)},[x,l]=c.useState(!1),i=c.useRef(null);c.useEffect(()=>{const f=t=>{var n;r.current==t.target||(n=r.current)!=null&&n.contains(t.target)||d.current&&!d.current.contains(t.target)&&o(!1)},j=t=>{const n=document.querySelector(".profile-button");n&&(n===t.target||n.contains(t.target))||i.current&&!i.current.contains(t.target)&&l(!1)};return document.addEventListener("mousedown",f),document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("mousedown",j)}},[]);const g=y.Local.get("vua_formula"),b=g&&!location.pathname.startsWith("/test/result")&&!location.pathname.startsWith("/formula/");return e.jsxs(e.Fragment,{children:[u&&e.jsxs("div",{className:"text-center px-[5%] py-4 bg-[#A191B8] text-white text-sm",children:["ENVÍO GRATIS A LIMA METROPOLITANA ",e.jsx("br",{className:"md:hidden"}),e.jsx("b",{children:"POR COMPRAS MAYORES A S/100"})]}),e.jsxs("header",{className:"sticky top-0 w-full z-40",children:[e.jsxs("div",{className:`flex justify-between items-center ${!a&&location.pathname=="/"&&"bg-opacity-80"} text-white pe-[5%] shadow-lg lg:shadow-none`,style:{backgroundImage:`linear-gradient(to right, ${m}, ${h})`},children:[e.jsxs("div",{className:"flex items-center md:px-[5%]",children:[e.jsx("button",{ref:r,onClick:p,className:"text-white h-16 w-16 px-6 menu-toggle lg:hidden","aria-label":"Toggle menu",children:e.jsx("i",{className:`fas ${a?"fa-times":"fa-bars"} text-2xl`})}),e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo.svg",alt:"Trasciende Logo",className:"h-8 -mt-3.5"})})]}),e.jsxs("div",{className:"py-6 flex gap-2 md:gap-4 items-center",children:[e.jsxs("ul",{className:"hidden lg:flex gap-8 me-4",children:[e.jsx("li",{children:e.jsx("a",{href:"/about",className:"block py-2",children:"NOSOTROS"})}),e.jsx("li",{children:e.jsx("a",{href:"/supplies",className:"block py-2",children:"NUESTROS INGREDIENTES"})}),e.jsx("li",{children:e.jsx("a",{href:"/plans",className:"block py-2",children:"SUSCRIPCIÓN"})}),e.jsx("li",{children:e.jsx("a",{href:"/faqs",className:"block py-2",children:"Q&A"})})]}),e.jsx("button",{href:"/test",className:"rounded-full px-3 py-2 bg-white text-[#A191B8] text-sm",children:"CREA TU FÓRMULA"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{content:s?`Perfil de ${s.name}`:"Iniciar sesión",children:e.jsxs("button",{className:"relative block profile-button",onClick:()=>{s?l(!x):location.href="/login"},children:[s&&e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full font-bold absolute bottom-0 -right-1"}),e.jsx("i",{className:"text-xl fa fa-user"})]})}),s&&x&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 text-gray-700",children:[e.jsxs("a",{href:"/login",className:"block px-4 py-2 hover:bg-gray-100",children:[e.jsx("i",{className:"fa fa-user-circle mr-2"}),"Ver perfil"]}),e.jsxs("button",{onClick:v,className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:[e.jsx("i",{className:"fa fa-sign-out-alt mr-2"}),"Cerrar sesión"]})]})]}),b&&e.jsx(N,{content:"Seguir comprando",children:e.jsx("a",{href:`/formula/${g.id}`,children:e.jsx("i",{className:"text-xl fas fa-shopping-cart scale-110 hover:scale-125 transition-transform duration-300"})})})]})]}),e.jsx("div",{ref:d,className:`absolute top-full inset-0 text-white z-40 transform ${a?"opacity-1":"hidden opacity-0"} transition-transform duration-300 ease-in-out p-[5%] h-max overflow-y-auto`,style:{backgroundImage:`linear-gradient(to right, ${m}, ${h})`},children:e.jsxs("ul",{className:"flex flex-col gap-4 items-center justify-center",children:[e.jsx("li",{children:e.jsx("a",{href:"/about",children:"NOSOTROS"})}),e.jsx("li",{children:e.jsx("a",{href:"/supplies",children:"NUESTROS INGREDIENTES"})}),e.jsx("li",{children:e.jsx("a",{href:"/plans",children:"SUSCRIPCIÓN"})}),e.jsx("li",{children:e.jsx("a",{href:"/faqs",children:"Q&A"})})]})})]})]})},T=({children:s,footerLinks:u,session:m,socials:h,terms:a,showSlogan:o=!0,showFooter:d=!0,gradientStart:r="#c4b8d3",gradientEnd:p="#f1d7c1",menuGradientEnd:x="#dbc8c9",numWhatsApp:l,waMessage:i})=>e.jsxs("section",{style:{backgroundImage:`linear-gradient(to right bottom, ${r}, ${p})`},children:[e.jsx(w,{showSlogan:o,gradientStart:r,menuGradientEnd:x,session:m}),e.jsxs("main",{className:"overflow-hidden min-h-[360px] relative",children:[s,e.jsx("div",{className:"flex justify-end relative",children:e.jsx("div",{className:"fixed bottom-[36px] z-[10] right-[18px] md:right-[25px] fixedWhastapp",children:e.jsx("a",{href:`https://api.whatsapp.com/send?phone=${(l==null?void 0:l.description)??""}&text=${(i==null?void 0:i.description)??""}`,target:"_blank",className:"",children:e.jsx("img",{src:"/images/img/WhatsApp.png",alt:"whatsapp",className:"w-20"})})})})]}),d&&e.jsx(R,{socials:h,terms:a,footerLinks:u})]});export{T as B};
