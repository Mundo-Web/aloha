const __vite__fileDeps=["assets/Main-BZiqHNWT.js","assets/AboutHeader-CpM0iYLI.js","assets/index-B80Lgev0.js","assets/Treatment-BkiomS_d.js","assets/HairType-DOIMxaVf.js","assets/index-B1nVdsa0.js","assets/index-DO3Aws4m.js","assets/index-CqrOtH36.js","assets/Email-DWosh6CP.js","assets/sweetalert2.all-Dh0rZL5X.js","assets/UserFormulasRest-CWZPsIkb.js","assets/Results-DSLuSBy_.js","assets/main-B2CtU6ez.js","assets/___vite-browser-external_commonjs-proxy-C9-083JZ.js","assets/ScalpType-CQfzk1X8.js","assets/HairGoals-Pqu0qlsw.js","assets/Fragrance-D4fzuOr6.js","assets/tippy-react.esm-CHhA99mn.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{j as r}from"./AboutHeader-CpM0iYLI.js";import{R as m,r as x}from"./index-B80Lgev0.js";import{c as S}from"./ReactAppend-CBRQCQGz.js";import{B as C}from"./Base-Daq0Lhuj.js";import{C as O}from"./CreateReactScript-CL6ujVDa.js";import{m as w}from"./main-B2CtU6ez.js";import{P as A}from"./ProgressBar-BV2E1bH9.js";import"./index-DO3Aws4m.js";import"./tippy-react.esm-CHhA99mn.js";import"./Base-ku_qAI12.js";import"./index-B1nVdsa0.js";import"./index-CqrOtH36.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";/* empty css               *//* empty css              */const k="modulepreload",D=function(_){return"/build/"+_},R={},u=function(p,f,E){let h=Promise.resolve();if(f&&f.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),l=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));h=Promise.all(f.map(i=>{if(i=D(i),i in R)return;R[i]=!0;const c=i.endsWith(".css"),s=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const t=document.createElement("link");if(t.rel=c?"stylesheet":k,c||(t.as="script",t.crossOrigin=""),t.href=i,l&&t.setAttribute("nonce",l),document.head.appendChild(t),c)return new Promise((o,v)=>{t.addEventListener("load",o),t.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})}))}return h.then(()=>p()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},z=m.lazy(()=>u(()=>import("./Main-BZiqHNWT.js"),__vite__mapDeps([0,1,2]))),B=m.lazy(()=>u(()=>import("./Treatment-BkiomS_d.js"),__vite__mapDeps([3,1,2]))),V=m.lazy(()=>u(()=>import("./HairType-DOIMxaVf.js"),__vite__mapDeps([4,1,2,5,6,7]))),N=m.lazy(()=>u(()=>import("./Email-DWosh6CP.js"),__vite__mapDeps([8,1,2,9,10,11,12,13]))),$=m.lazy(()=>u(()=>import("./ScalpType-CQfzk1X8.js"),__vite__mapDeps([14,1,2,5,6,7]))),F=m.lazy(()=>u(()=>import("./HairGoals-Pqu0qlsw.js"),__vite__mapDeps([15,1,2]))),U=m.lazy(()=>u(()=>import("./Fragrance-D4fzuOr6.js"),__vite__mapDeps([16,1,2,17,6,10,11,12,13]))),q=({session:_,otherFormulasCount:p,hasTreatment:f,scalpType:E,hairType:h,hairGoals:n,fragrances:l,userFormulasCount:i=0,formula:c})=>{const s=w.Local.get("vua_test")??{has_started:!!c};f.find(e=>e.id==s.has_treatment)||(s.has_treatment=null),E.find(e=>e.id==s.scalp_type)||(s.scalp_type=null),h.find(e=>e.id==s.hair_type)||(s.hair_type=null),n.find(e=>{var g;return(g=s.hair_goals)==null?void 0:g.some(j=>j==e.id)})||(s.hair_goals=null),l.find(e=>e.id==s.fragrance)||(s.fragrance=null);const[t,o]=x.useState(s),[v,T]=x.useState(!c),y={has_started:r.jsx(z,{test:t,setTest:o,setFirstTime:T,userFormulasCount:i}),has_treatment:r.jsx(B,{test:t,setTest:o,values:f}),scalp_type:r.jsx($,{test:t,setTest:o,values:E}),hair_type:r.jsx(V,{test:t,setTest:o,values:h}),hair_goals:r.jsx(F,{test:t,setTest:o,values:n}),fragrance:r.jsx(U,{test:t,setTest:o,values:l,formula:c}),email:r.jsx(N,{test:t,setTest:o,session:_})},a=Object.keys(y),d=()=>{if(v)return 0;for(let e=0;e<a.length;e++)if(t[a[e]]===null||typeof t[a[e]]>"u")return e;return a.length},b=()=>{const e=d();return e===0&&!t.has_started?y.has_started:e<a.length?y[a[e]]:location.href="/test/result"},L=()=>{const e=d();if(e>0){const g=a[e-1];o(j=>{const P={...j};return delete P[g],P})}};x.useEffect(()=>{w.Local.set("vua_test",t)},[t]);const I=d()/a.length*100;return r.jsxs(r.Fragment,{children:[d()>0&&d()!=a.length&&r.jsx("div",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pt-[5%]",children:r.jsx(A,{width:`${I}%`,isSecondary:!!c,formulaIndex:p+2})}),r.jsx(x.Suspense,{fallback:r.jsx("div",{className:"h-[50vh] flex items-center justify-center bg-white",children:"Cargando..."}),children:b()}),d()>0&&d()!=a.length&&r.jsx("section",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%]",children:r.jsx("button",{className:"h-10 w-10 bg-[#DBCEEB] text-white rounded-full",onClick:L,children:r.jsx("i",{className:"mdi mdi-arrow-left"})})})]})};O((_,p)=>{S(_).render(r.jsx(C,{...p,children:r.jsx(q,{...p})}))});
