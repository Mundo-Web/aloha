import{j as o}from"./StatisticCard-Bdo2C3ON.js";import{r}from"./index-DFv2mRv-.js";import{I as n}from"./InputFormGroup-z0D3_N8V.js";const x=({id:s,col:v,label:l,eRef:c,required:i=!1,children:h,dropdownParent:t,multiple:u=!1,disabled:m=!1,onChange:a=()=>{},templateResult:f,templateSelection:d})=>(c||(c=r.useRef()),s||(s=`select-${crypto.randomUUID()}`),r.useEffect(()=>{$(c.current).select2({dropdownParent:t,templateResult:f,templateSelection:d}),$(c.current).on("change",a)},[t]),o.jsxs("div",{className:`form-group ${v} mb-2`,children:[o.jsxs("label",{htmlFor:s,className:"mb-1",children:[l," ",l&&i&&o.jsx("b",{className:"text-danger",children:"*"})]}),o.jsx("select",{ref:c,id:s,required:i,className:"form-control",style:{width:"100%"},disabled:m,multiple:u,children:h})]})),F=({dataLoaded:s,onSave:v=()=>{}})=>{const l=r.useRef(),c=r.useRef(),i=r.useRef(),h=r.useRef(),t=r.useRef(),u=r.useRef(),m=r.useRef(),a=r.useRef(),f=r.useRef(),d=r.useRef(),j=r.useRef(),R=r.useRef(),y=r.useRef(),g=r.useRef(),b=r.useRef(),q=r.useRef(),w=r.useRef(),_=r.useRef(),[S,N]=r.useState(!1);r.useEffect(()=>{s&&M(s)},[s]);const M=e=>{e!=null&&e.id?N(!0):N(!1),c.current.value=e.id||null,i.current.value=(e==null?void 0:e.request_id)||null,h.current.value=(e==null?void 0:e.contract_number)||"C001",t.current.value=(e==null?void 0:e.sessions)||null,$(u.current).val((e==null?void 0:e.process_type)||"coaching").trigger("change"),m.current.value=(e==null?void 0:e.process_topic)||null,a.current.value=(e==null?void 0:e.session_duration)||null,$(f.current).val((e==null?void 0:e.session_frequency)||"weekly").trigger("change"),$(d.current).val((e==null?void 0:e.day)||"L").trigger("change"),j.current.value=(e==null?void 0:e.time)||null,R.current.value=(e==null?void 0:e.location)||null,y.current.value=(e==null?void 0:e.start_date)||null,$(g.current).val((e==null?void 0:e.payment_frequency)||"weekly").trigger("change"),b.current.value=(e==null?void 0:e.total_amount)||null,$(q.current).val((e==null?void 0:e.installments)||1).trigger("change"),w.current.value=(e==null?void 0:e.payment_start_date)||null,_.current.value=(e==null?void 0:e.schedule_change_notice)||null,$(l.current).modal("show")},C=async e=>{e.preventDefault();const{isConfirmed:p}=await Swal.fire({title:"Confirmar",text:"¿Está seguro de guardar los cambios?",icon:"question",showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar"});if(!p)return;const D={request_id:i.current.value,sessions:t.current.value,process_type:u.current.value,process_topic:m.current.value,session_duration:a.current.value,session_frequency:f.current.value,day:d.current.value,time:j.current.value,location:R.current.value,start_date:y.current.value,payment_frequency:g.current.value,total_amount:b.current.value,installments:q.current.value,payment_start_date:w.current.value,schedule_change_notice:_.current.value};await agreementsRest.save(D)&&(v(),$(l.current).modal("hide"))};return o.jsxs(F,{modalRef:l,title:S?"Modificar acuerdo":"Redactar acuerdo",onSubmit:C,size:"full-width",isStatic:!0,children:[o.jsx("input",{ref:i,type:"hidden"}),o.jsxs("div",{className:"row",children:[o.jsx("h5",{className:"text-info",children:"Datos del acuerdo"}),o.jsx(n,{eRef:h,label:"N° Contrato",col:"col-md-4 col-sm-6 col-xs-12",type:"text",id:"contrato",value:"C097",readOnly:!0}),o.jsx(n,{eRef:t,label:"Número de sesiones",col:"col-md-4 col-sm-6 col-xs-12",type:"number",id:"sesiones",required:!0,min:1})]}),o.jsxs("div",{className:"row mt-2",id:"conditions-container",children:[o.jsx("h5",{className:"text-info",children:"Condiciones para el proceso de coaching"}),o.jsx("p",{children:"Hemos acordado para este proceso sujetarnos a las condiciones que se mencionan a continuación:"}),o.jsxs(x,{eRef:u,label:"Tipo de proceso",col:"col-md-4 col-sm-6 col-xs-12",dropdownParent:"#conditions-container",id:"tipoProceso",required:!0,children:[o.jsx("option",{value:"coaching",children:"Coaching"}),o.jsx("option",{value:"mentoring",children:"Mentoring"})]}),o.jsx(n,{eRef:m,label:"Tema del proceso",col:"col-md-8 col-sm-6 col-xs-12",type:"text",id:"temaProceso",required:!0})]}),o.jsxs("div",{className:"row",id:"duration-container",children:[o.jsx(n,{eRef:a,label:"Duración de sesiones (solo Nro horas)",col:"col-md-4 col-sm-6 col-xs-12",type:"number",id:"duracionSesiones",required:!0,min:1}),o.jsxs(x,{eRef:f,label:"Frecuencia de sesión",col:"col-md-4 col-sm-6 col-xs-12",id:"frecuenciaSesion",dropdownParent:"#duration-container",required:!0,children:[o.jsx("option",{value:"weekly",children:"Semanal"}),o.jsx("option",{value:"biweekly",children:"Quincenal"}),o.jsx("option",{value:"monthly",children:"Mensual"})]}),o.jsxs(x,{eRef:d,label:"Día",col:"col-md-4 col-sm-6 col-xs-12",id:"dia",dropdownParent:"#duration-container",required:!0,children:[o.jsx("option",{value:"D",children:"Domingo"}),o.jsx("option",{value:"L",children:"Lunes"}),o.jsx("option",{value:"M",children:"Martes"}),o.jsx("option",{value:"X",children:"Miércoles"}),o.jsx("option",{value:"J",children:"Jueves"}),o.jsx("option",{value:"V",children:"Viernes"}),o.jsx("option",{value:"S",children:"Sábado"})]})]}),o.jsxs("div",{className:"row",children:[o.jsx(n,{eRef:j,label:"Horario",col:"col-md-4 col-sm-6 col-xs-12",type:"time",id:"horario",required:!0}),o.jsx(n,{eRef:R,label:"Lugar",col:"col-md-4 col-sm-6 col-xs-12",type:"text",id:"lugar",placeholder:"Espacio físico o link de reunión remota",required:!0}),o.jsx(n,{eRef:y,label:"Fecha de Inicio",col:"col-md-4 col-sm-6 col-xs-12",type:"date",id:"fechaInicio",required:!0})]}),o.jsxs("div",{className:"row mt-2",id:"billing-container",children:[o.jsx("h5",{className:"text-info",children:"Datos de facturacion"}),o.jsxs(x,{eRef:g,label:"Frecuencia de pago",col:"col-md-4 col-sm-6 col-xs-12",id:"frecuenciaPago",dropdownParent:"#billing-container",required:!0,children:[o.jsx("option",{value:"weekly",children:"Semanal"}),o.jsx("option",{value:"biweekly",children:"Quincenal"}),o.jsx("option",{value:"monthly",children:"Mensual"})]}),o.jsx(n,{eRef:b,label:"Monto total de servicio",col:"col-md-4 col-sm-6 col-xs-12",type:"number",id:"montoTotal",required:!0}),o.jsx(x,{eRef:q,label:"Cantidad de cuotas",col:"col-md-4 col-sm-6 col-xs-12",id:"cantidadCuotas",defaultValue:"1",dropdownParent:"#billing-container",required:!0,children:new Array(10).fill(null).map((e,p)=>o.jsx("option",{value:p+1,children:p+1},p))}),o.jsx(n,{eRef:w,label:"Fecha de inicio de pago de cuota",col:"col-md-4 col-sm-6 col-xs-12",type:"date",id:"fechaInicioPago",required:!0})]}),o.jsxs("div",{className:"row mt-2",children:[o.jsx("h5",{className:"text-info",children:"Otros aspectos importantes"}),o.jsxs("div",{className:"col-12",children:[o.jsx("h6",{children:"Modificaciones de Horarios"}),o.jsxs("p",{children:["Si surgiera algún cambio o impedimento del último momento, por favor avisarme con",o.jsx("input",{ref:_,type:"text",id:"anticipacionAviso",placeholder:"ej. 24 horas",className:"d-inline-block form-control form-control-sm mx-2",style:{width:"150px"},required:!0}),"de anticipación por lo menos y coordinaremos una nueva cita, yo por mi parte haré lo mismo."]})]})]})]})};export{F as M};
