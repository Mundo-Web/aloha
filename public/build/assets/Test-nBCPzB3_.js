const __vite__fileDeps=["assets/Main-DI3QUUcv.js","assets/AboutHeader-CpM0iYLI.js","assets/index-B80Lgev0.js","assets/Treatment-D21nrDcv.js","assets/HairType-DhY7fDbP.js","assets/index-B1nVdsa0.js","assets/index-DO3Aws4m.js","assets/index-CqrOtH36.js","assets/Email-DUEByAe4.js","assets/sweetalert2.all-Dh0rZL5X.js","assets/Results-CGjdirJh.js","assets/main-B2CtU6ez.js","assets/___vite-browser-external_commonjs-proxy-C9-083JZ.js","assets/ScalpType-B09bzllY.js","assets/HairGoals--sUBLgG-.js","assets/Fragrance-4Iw0tYuO.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{j as s}from"./AboutHeader-CpM0iYLI.js";import{R as m,r as g}from"./index-B80Lgev0.js";import{c as b}from"./ReactAppend-CBRQCQGz.js";import{B as L}from"./Base-C8pp5Bpj.js";import{C}from"./CreateReactScript-B4L7iD9b.js";import{m as j}from"./main-B2CtU6ez.js";import{P as I}from"./ProgressBar-cOY9uk2D.js";import"./index-DO3Aws4m.js";import"./tippy-react.esm-CHhA99mn.js";import"./Base-TVC2AMtK.js";import"./index-B1nVdsa0.js";import"./index-CqrOtH36.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";/* empty css               *//* empty css              */const O="modulepreload",S=function(d){return"/build/"+d},P={},u=function(l,_,x){let p=Promise.resolve();if(_&&_.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));p=Promise.all(_.map(t=>{if(t=S(t),t in P)return;P[t]=!0;const n=t.endsWith(".css"),E=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${E}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":O,n||(a.as="script",a.crossOrigin=""),a.href=t,r&&a.setAttribute("nonce",r),document.head.appendChild(a),n)return new Promise((f,o)=>{a.addEventListener("load",f),a.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${t}`)))})}))}return p.then(()=>l()).catch(i=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i})},A=m.lazy(()=>u(()=>import("./Main-DI3QUUcv.js"),__vite__mapDeps([0,1,2]))),k=m.lazy(()=>u(()=>import("./Treatment-D21nrDcv.js"),__vite__mapDeps([3,1,2]))),D=m.lazy(()=>u(()=>import("./HairType-DhY7fDbP.js"),__vite__mapDeps([4,1,2,5,6,7]))),z=m.lazy(()=>u(()=>import("./Email-DUEByAe4.js"),__vite__mapDeps([8,1,2,9,10,11,12]))),B=m.lazy(()=>u(()=>import("./ScalpType-B09bzllY.js"),__vite__mapDeps([13,1,2,5,6,7]))),V=m.lazy(()=>u(()=>import("./HairGoals--sUBLgG-.js"),__vite__mapDeps([14,1,2]))),N=m.lazy(()=>u(()=>import("./Fragrance-4Iw0tYuO.js"),__vite__mapDeps([15,1,2]))),$=({session:d,hasTreatment:l,scalpType:_,hairType:x,hairGoals:p,fragrances:i})=>{const r=j.Local.get("vua_test")??{};l.find(e=>e.id==r.has_treatment)||(r.has_treatment=null),_.find(e=>e.id==r.scalp_type)||(r.scalp_type=null),x.find(e=>e.id==r.hair_type)||(r.hair_type=null),p.find(e=>{var h;return(h=r.hair_goals)==null?void 0:h.some(v=>v==e.id)})||(r.hair_goals=null),i.find(e=>e.id==r.fragrance)||(r.fragrance=null);const[t,n]=g.useState(r),[E,a]=g.useState(!0),f={has_started:s.jsx(A,{test:t,setTest:n,setFirstTime:a}),has_treatment:s.jsx(k,{test:t,setTest:n,values:l}),scalp_type:s.jsx(B,{test:t,setTest:n,values:_}),hair_type:s.jsx(D,{test:t,setTest:n,values:x}),hair_goals:s.jsx(V,{test:t,setTest:n,values:p}),fragrance:s.jsx(N,{test:t,setTest:n,values:i}),email:s.jsx(z,{test:t,setTest:n,session:d})},o=Object.keys(f),c=()=>{if(E)return 0;for(let e=0;e<o.length;e++)if(t[o[e]]===null||typeof t[o[e]]>"u")return e;return o.length},w=()=>{const e=c();return e===0&&!t.has_started?f.has_started:e<o.length?f[o[e]]:location.href="/test/result"},R=()=>{const e=c();if(e>0){const h=o[e-1];n(v=>{const y={...v};return delete y[h],y})}};g.useEffect(()=>{j.Local.set("vua_test",t)},[t]);const T=c()/o.length*100;return s.jsxs(s.Fragment,{children:[c()>0&&c()!=o.length&&s.jsx("div",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pt-[5%]",children:s.jsx(I,{width:`${T}%`})}),s.jsx(g.Suspense,{fallback:s.jsx("div",{className:"h-[50vh] flex items-center justify-center bg-white",children:"Cargando..."}),children:w()}),c()>0&&c()!=o.length&&s.jsx("section",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%]",children:s.jsx("button",{className:"h-10 w-10 bg-[#DBCEEB] text-white rounded-full",onClick:R,children:s.jsx("i",{className:"mdi mdi-arrow-left"})})})]})};C((d,l)=>{b(d).render(s.jsx(L,{...l,children:s.jsx($,{...l})}))});
