import{j as e}from"./StatisticCard-Bdo2C3ON.js";import{c as B}from"./ReactAppend-z4_qtB7b.js";import{a as G,r as d}from"./index-DFv2mRv-.js";import{J}from"./JSEncrypt-D3I3x59l.js";import{C as K}from"./CreateReactScript-yWJ4gJYl.js";import{A as Y}from"./AuthRest-NEu16Tw2.js";import{h as Q}from"./hoist-non-react-statics.cjs-CgXjTu_P.js";import{a as X}from"./index.esm-B502ZfUP.js";import{S as H}from"./SelectFormGroup-CEMe1OMM.js";import{M as Z}from"./Modal-MESba8ek.js";import{H as ee}from"./HtmlContent-BY9uANKo.js";import{S as W}from"./sweetalert2.all-DCeKQPlA.js";import{l as te}from"./logo-BjQK9OLG.js";import"./main-BBbUrZUL.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";/* empty css               *//* empty css              */var z={exports:{}},re="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ne=re,ae=ne;function M(){}function V(){}V.resetWarningCache=M;var ie=function(){function t(n,r,c,v,R,x){if(x!==ae){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}t.isRequired=t;function a(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:a,element:t,elementType:t,instanceOf:a,node:t,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:V,resetWarningCache:M};return i.PropTypes=i,i};z.exports=ie();var oe=z.exports;const h=G(oe);var se=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function F(){return F=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},F.apply(this,arguments)}function ce(t,a){if(t==null)return{};var i={},n=Object.keys(t),r,c;for(c=0;c<n.length;c++)r=n[c],!(a.indexOf(r)>=0)&&(i[r]=t[r]);return i}function T(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,A(t,a)}function A(t,a){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},A(t,a)}var I=function(t){de(a,t);function a(){var n;return n=t.call(this)||this,n.handleExpired=n.handleExpired.bind(T(n)),n.handleErrored=n.handleErrored.bind(T(n)),n.handleChange=n.handleChange.bind(T(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(T(n)),n}var i=a.prototype;return i.getCaptchaFunction=function(r){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[r]:this.props.grecaptcha[r]:null},i.getValue=function(){var r=this.getCaptchaFunction("getResponse");return r&&this._widgetId!==void 0?r(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},i.execute=function(){var r=this.getCaptchaFunction("execute");if(r&&this._widgetId!==void 0)return r(this._widgetId);this._executeRequested=!0},i.executeAsync=function(){var r=this;return new Promise(function(c,v){r.executionResolve=c,r.executionReject=v,r.execute()})},i.reset=function(){var r=this.getCaptchaFunction("reset");r&&this._widgetId!==void 0&&r(this._widgetId)},i.forceReset=function(){var r=this.getCaptchaFunction("reset");r&&r()},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},i.handleChange=function(r){this.props.onChange&&this.props.onChange(r),this.executionResolve&&(this.executionResolve(r),delete this.executionReject,delete this.executionResolve)},i.explicitRender=function(){var r=this.getCaptchaFunction("render");if(r&&this._widgetId===void 0){var c=document.createElement("div");this._widgetId=r(c,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(c)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.handleRecaptchaRef=function(r){this.captcha=r},i.render=function(){var r=this.props;r.sitekey,r.onChange,r.theme,r.type,r.tabindex,r.onExpired,r.onErrored,r.size,r.stoken,r.grecaptcha,r.badge,r.hl,r.isolated;var c=ce(r,se);return d.createElement("div",F({},c,{ref:this.handleRecaptchaRef}))},a}(d.Component);I.displayName="ReCAPTCHA";I.propTypes={sitekey:h.string.isRequired,onChange:h.func,grecaptcha:h.object,theme:h.oneOf(["dark","light"]),type:h.oneOf(["image","audio"]),tabindex:h.number,onExpired:h.func,onErrored:h.func,size:h.oneOf(["compact","normal","invisible"]),stoken:h.string,hl:h.string,badge:h.oneOf(["bottomright","bottomleft","inline"]),isolated:h.bool};I.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};function D(){return D=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},D.apply(this,arguments)}function le(t,a){if(t==null)return{};var i={},n=Object.keys(t),r,c;for(c=0;c<n.length;c++)r=n[c],!(a.indexOf(r)>=0)&&(i[r]=t[r]);return i}function pe(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a}var g={},ue=0;function he(t,a){return a=a||{},function(n){var r=n.displayName||n.name||"Component",c=function(R){pe(x,R);function x(y,s){var o;return o=R.call(this,y,s)||this,o.state={},o.__scriptURL="",o}var m=x.prototype;return m.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+ue++),this.__scriptLoaderID},m.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},m.asyncScriptLoaderHandleLoad=function(s){var o=this;this.setState(s,function(){return o.props.asyncScriptOnLoad&&o.props.asyncScriptOnLoad(o.state)})},m.asyncScriptLoaderTriggerOnScriptLoaded=function(){var s=g[this.__scriptURL];if(!s||!s.loaded)throw new Error("Script is not loaded.");for(var o in s.observers)s.observers[o](s);delete window[a.callbackName]},m.componentDidMount=function(){var s=this,o=this.setupScriptURL(),l=this.asyncScriptLoaderGetScriptLoaderID(),f=a,L=f.globalName,w=f.callbackName,O=f.scriptId;if(L&&typeof window[L]<"u"&&(g[o]={loaded:!0,observers:{}}),g[o]){var j=g[o];if(j&&(j.loaded||j.errored)){this.asyncScriptLoaderHandleLoad(j);return}j.observers[l]=function(p){return s.asyncScriptLoaderHandleLoad(p)};return}var S={};S[l]=function(p){return s.asyncScriptLoaderHandleLoad(p)},g[o]={loaded:!1,observers:S};var b=document.createElement("script");b.src=o,b.async=!0;for(var E in a.attributes)b.setAttribute(E,a.attributes[E]);O&&(b.id=O);var C=function(u){if(g[o]){var N=g[o],_=N.observers;for(var k in _)u(_[k])&&delete _[k]}};w&&typeof window<"u"&&(window[w]=function(){return s.asyncScriptLoaderTriggerOnScriptLoaded()}),b.onload=function(){var p=g[o];p&&(p.loaded=!0,C(function(u){return w?!1:(u(p),!0)}))},b.onerror=function(){var p=g[o];p&&(p.errored=!0,C(function(u){return u(p),!0}))},document.body.appendChild(b)},m.componentWillUnmount=function(){var s=this.__scriptURL;if(a.removeOnUnmount===!0)for(var o=document.getElementsByTagName("script"),l=0;l<o.length;l+=1)o[l].src.indexOf(s)>-1&&o[l].parentNode&&o[l].parentNode.removeChild(o[l]);var f=g[s];f&&(delete f.observers[this.asyncScriptLoaderGetScriptLoaderID()],a.removeOnUnmount===!0&&delete g[s])},m.render=function(){var s=a.globalName,o=this.props;o.asyncScriptOnLoad;var l=o.forwardedRef,f=le(o,["asyncScriptOnLoad","forwardedRef"]);return s&&typeof window<"u"&&(f[s]=typeof window[s]<"u"?window[s]:void 0),f.ref=l,d.createElement(n,f)},x}(d.Component),v=d.forwardRef(function(R,x){return d.createElement(c,D({},R,{forwardedRef:x}))});return v.displayName="AsyncScriptLoader("+r+")",v.propTypes={asyncScriptOnLoad:h.func},Q(v,n)}}var U="onloadcallback",me="grecaptcha";function q(){return typeof window<"u"&&window.recaptchaOptions||{}}function fe(){var t=q(),a=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+a+"/recaptcha/enterprise.js?onload="+U+"&render=explicit":"https://"+a+"/recaptcha/api.js?onload="+U+"&render=explicit"}const xe=he(fe,{callbackName:U,globalName:me,attributes:q().nonce?{nonce:q().nonce}:{}})(I),ge=({PUBLIC_RSA_KEY:t,RECAPTCHA_SITE_KEY:a,token:i,terms:n="Terminos y condiciones",roles:r=[],specialties:c})=>{document.title="Registro | NetCoaching";const v=new J;v.setPublicKey(t);const[R,x]=d.useState(!0),[m,y]=d.useState(null),[s,o]=d.useState(!1),l=d.useRef(),f=d.useRef(),L=d.useRef(),w=d.useRef(),O=d.useRef(),j=d.useRef(),S=d.useRef(),b=d.useRef(),E=d.useRef();d.useEffect(()=>{x(!1)},[null]);const C=async u=>{u.preventDefault(),x(!0);const N=O.current.value,_=j.current.value;if(N!=_)return W.fire({icon:"warning",title:"Error",text:"Las contraseÃ±as no coinciden",confirmButtonText:"Ok"});if(!m)return W.fire({icon:"warning",title:"Error",text:"Por favor, complete el captcha",confirmButtonText:"Ok"});const k={role:$(l.current).val(),name:f.current.value,lastname:L.current.value,email:w.current.value,password:v.encrypt(N),confirmation:v.encrypt(_),terms:S.current.checked,captcha:m,specialties:$(b.current).val()},P=await Y.signup(k);if(!P)return x(!1);P&&(location.href=`./confirm-email/${P}`),x(!1)},p=u=>{documentNumberRef.current.value="",o(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"account-pages mt-5 mb-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-md-8 col-lg-6 col-xl-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("a",{href:"/",children:e.jsx("img",{src:te,alt:"",className:"mx-auto",style:{height:"40px"}})}),e.jsx("p",{className:"text-muted mt-2 mb-4",children:"Bienvenido a Net Coaching"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx("h4",{className:"text-uppercase mt-0 font-bold",children:"Registrate"})}),e.jsxs("form",{onSubmit:C,className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"role",className:"form-label",children:["Tipo de usuario ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx(H,{eRef:l,onChange:p,required:!0,children:r.map((u,N)=>e.jsx("option",{value:u.relative_id,children:u.name}))})]})})}),e.jsx(H,{label:"Especialidad",eRef:b,required:!0,multiple:!0,children:c.map((u,N)=>e.jsx("option",{value:u.id,children:u.name},`specialty-${N}`))}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:["Nombres ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:f,className:"form-control",type:"text",id:"name",placeholder:"Ingrese su nombre",required:!0})]}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"lastname",className:"form-label",children:["Apellidos ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:L,className:"form-control",type:"text",id:"lastname",placeholder:"Ingrese sus apellidos",required:!0})]}),e.jsxs("div",{className:"col-12 mb-2",children:[e.jsxs("label",{htmlFor:"email",className:"form-label",children:["Correo electronico ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:w,className:"form-control",type:"email",id:"email",required:!0,placeholder:"Ingrese su correo electronico"})]}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"password",className:"form-label",children:["ContraseÃ±a ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:O,className:"form-control",type:"password",required:!0,id:"password",placeholder:"Ingrese su contraseÃ±a"})]}),e.jsxs("div",{className:"col-sm-6 mb-3",children:[e.jsxs("label",{htmlFor:"confirmation",className:"form-label",children:["Confirmacion ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:j,className:"form-control",type:"password",required:!0,id:"confirmation",placeholder:"Confirme su contraseÃ±a"})]}),e.jsx("div",{className:"col-12 mb-3",children:e.jsxs("div",{className:"form-check mx-auto",style:{width:"max-content"},children:[e.jsx("input",{ref:S,type:"checkbox",className:"form-check-input",id:"checkbox-signup",required:!0}),e.jsxs("label",{className:"form-check-label",htmlFor:"checkbox-signup",children:["Acepto los",e.jsx("a",{href:"#terms",className:"ms-1 text-blue",onClick:()=>$(E.current).modal("show"),children:"terminos y condiciones"})]})]})}),e.jsx(xe,{className:"m-auto mb-3",sitekey:a,onChange:y,style:{display:"block",width:"max-content"}}),e.jsx("div",{className:"mb-0 text-center d-grid",children:e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:R,children:R?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa fa-spinner fa-spin"})," Verificando"]}):"Registrarme"})})]})]})}),e.jsx("div",{className:"row mt-3",children:e.jsx("div",{className:"col-12 text-center",children:e.jsxs("p",{className:"text-muted",children:["Ya tienes una cuenta? ",e.jsx(X,{href:"/login",className:"text-white ms-1",children:e.jsx("b",{children:"Iniciar sesion"})})]})})})]})})})}),e.jsx(Z,{modalRef:E,title:"Terminos y condiciones",size:"lg",hideFooter:!0,children:e.jsx(ee,{html:n})})]})};K((t,a)=>{B(t).render(e.jsx(ge,{...a}))});
